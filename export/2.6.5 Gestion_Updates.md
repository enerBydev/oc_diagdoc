---
id: 2.6.5
title: Gestión de Updates
parent: '2.6'
breadcrumb: 0 → 2.0 → 2.6 → 2.6.5
type: arquitectura
status: activo
domain:
- mobile
- devops
- updates
- capacitor
summary: 'Estrategia de actualización de la aplicación: Updates Nativos (Stores) vs
  Live Updates (OTA), Force Update y Versionado.'
last_updated: 2026-01-29 15:31
content_hash: 0b0b46263e5f537f
---

# 2.6.5 Gestión de Updates

> Estrategias para mantener la base de usuarios en versiones recientes y compatibles.

---

## Tipos de Actualización

### 1. Actualización Nativa (Store Release)
Cambios que requieren recompilación binaria (cambios en Plugins, iOS SDK, Android Manifest).
- **Proceso**: Build -> Upload to Store -> Review (Apple/Google).
- **Tiempo**: 24-48 horas.
- **Frecuencia**: Baja (Mensual).

### 2. Live Update (OTA - Over The Air)
Cambios solo en código JS/CSS/HTML (la capa web de Capacitor).
- **Herramienta**: Capacitor Updater o solución propia bajando bundle zip.
- **Proceso**: El app busca update al inicio, descarga en background, y aplica en siguiente reinicio.
- **Tiempo**: Inmediato.
- **Frecuencia**: Alta (Hotfixes, Features pequeñas).

---

## Estrategia "Force Update"

Para evitar que usuarios se queden en versiones obsoletas incompatibles con el API.

### Implementación
1.  **Endpoint**: `/api/version-check`
2.  **Respuesta**:
    ```json
    {
      "min_version_ios": "1.2.0",
      "min_version_android": "1.3.0",
      "current_latest": "1.4.0",
      "force_update": true,
      "message": "Actualización crítica de seguridad requerida."
    }
    ```
3.  **App Logic**: Al iniciar, comparar `App.getInfo().version` con `min_version`.
4.  **Bloqueo**: Si es menor, mostrar Modal NO cancelable con botón "Ir a Store".

---

## Versionado Semántico

Usamos **Major.Minor.Patch** (ej. 2.5.1).
- **Major**: Rediseño total o cambio breaking masivo.
- **Minor**: Nuevas features (Native or Web).
- **Patch**: Bugfixes.

*Nota: El `versionCode` (Android) y `CFBundleVersion` (iOS) son enteros autoincrementables por cada build CI/CD.*

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.6. Arquitectura_Mobile]] |
| -------------------- | ---------------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/2.6.4 Deep_Linking]]       |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.6.6 Background_Tasks]]   |

---
