---
id: 2.1
title: FullStack
parent: '2.0'
breadcrumb: 0 ‚Üí 2.0 ‚Üí 2.1
type: modulo_padre
children_count: 3
descendants_count: 3
status: activo
last_updated: 2026-01-29 16:05
file_create: 2025-12-11 21:03
domain:
- stack
- tecnologia
- nuxt
- capacitor
- cloudflare
- github
summary: "Stack Full-Stack basado en NuxtLabs + CapacitorJS para PWA Universal \n\
  Multi-tenant con deploy autom√°tico v√≠a GitHub + CloudflarePages."
content_hash: 25d804e90e3241e4
---

# 2.1 FullStack

> Stack tecnol√≥gico completo para el sistema OnlyCar.

---

## Estructura de Hijos (Deep Dive)

| ID | Nombre | Descripci√≥n | Estado |
|----|--------|-------------|--------|
| [[Proyecto OnlyCarNLD/Datos/2.1.1 Nuxt_Configuration\|2.1.1]] | Nuxt Configuration | An√°lisis de `nuxt.config.ts` | ‚úÖ |
| [[Proyecto OnlyCarNLD/Datos/2.1.2 Capacitor_Bridge\|2.1.2]] | Capacitor Bridge | Comunicaci√≥n JSI Nativa | ‚úÖ |
| [[Proyecto OnlyCarNLD/Datos/2.1.3 Cloudflare_Architecture\|2.1.3]] | Cloudflare Architecture | Workers, R2, D1 Internals | ‚úÖ |

---

## Arquitectura

```mermaid
flowchart TB
    subgraph DEV["üõ†Ô∏è Desarrollo"]
        CODE[C√≥digo Nuxt]
        GITHUB[GitHub Repo]
    end
    
    subgraph CICD["‚ö° CI/CD"]
        GH_ACTIONS[GitHub Actions]
        CF_PAGES[Cloudflare Pages]
    end
    
    subgraph FRONTEND["üì± Frontend"]
        NUXT[Nuxt 4.x]
        VUE[Vue 3]
        CAPACITOR[CapacitorJS]
    end
    
    subgraph CLOUDFLARE["üåê Cloudflare"]
        PAGES[Pages]
        WORKERS[Workers]
        R2[R2 Storage]
        D1[D1 Cache]
        KV[Workers KV]
        CDN[CDN Global]
    end
    
    subgraph BACKEND["üóÑÔ∏è Backend"]
        SUPABASE[Supabase]
        POSTGRES[PostgreSQL]
        AUTH[Auth]
        STORAGE[Storage]
    end
    
    CODE --> GITHUB
    GITHUB --> GH_ACTIONS
    GH_ACTIONS --> CF_PAGES
    CF_PAGES --> PAGES
    
    NUXT --> CAPACITOR
    NUXT --> WORKERS
    WORKERS --> R2
    WORKERS --> D1
    WORKERS --> KV
    
    SUPABASE --> POSTGRES
    SUPABASE --> AUTH
    SUPABASE --> STORAGE
```

---

## Stack Completo

| Capa | Tecnolog√≠a | Uso |
|------|------------|-----|
| **Frontend** | Nuxt 4.x + Vue 3 | SSR, SPA, PWA |
| **Mobile** | CapacitorJS | iOS, Android, Desktop |
| **Deploy** | GitHub + CloudflarePages | CI/CD autom√°tico |
| **Edge** | Cloudflare Workers | Serverless, APIs |
| **Storage** | Cloudflare R2 | Im√°genes WebP |
| **Cache** | Cloudflare D1 + KV | Metadata, sesiones |
| **Backend** | Supabase/PostgreSQL | Auth, datos, realtime |
| **CDN** | Cloudflare | Global, WAF, SSL |

---

## Flujo de Deployment

```
1. Developer hace commit ‚Üí GitHub
       ‚îÇ
       ‚ñº
2. GitHub Actions detecta push
       ‚îÇ
       ‚ñº
3. Build Nuxt (npm run build)
       ‚îÇ
       ‚ñº
4. Deploy a Cloudflare Pages
       ‚îÇ
       ‚ñº
5. CDN global actualizada
       ‚îÇ
       ‚ñº
6. Workers Edge Functions activas
```

---

## Configuraci√≥n GitHub ‚Üí CloudflarePages

```yaml
# .github/workflows/deploy.yml
name: Deploy to Cloudflare Pages

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 20
          
      - name: Install dependencies
        run: npm ci
        
      - name: Build
        run: npm run build
        env:
          NITRO_PRESET: cloudflare-pages
          
      - name: Deploy to Cloudflare Pages
        uses: cloudflare/pages-action@v1
        with:
          apiToken: ${{ secrets.CLOUDFLARE_API_TOKEN }}
          accountId: ${{ secrets.CLOUDFLARE_ACCOUNT_ID }}
          projectName: onlycar
          directory: .output/public
```

---

## Variables de Entorno

| Variable | Descripci√≥n |
|----------|-------------|
| `CLOUDFLARE_API_TOKEN` | Token API Cloudflare |
| `CLOUDFLARE_ACCOUNT_ID` | ID cuenta Cloudflare |
| `SUPABASE_URL` | URL proyecto Supabase |
| `SUPABASE_KEY` | Anon key Supabase |

---

## Navegaci√≥n

| ‚¨ÜÔ∏è Padre             | [[Proyecto OnlyCarNLD/Datos/2.0. tecnologia]]        |
| -------------------- | -------------------------- |
| ‚û°Ô∏è Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.2. Docs]]              |

---
