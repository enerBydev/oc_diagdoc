---
id: 3.1.7.2.3
title: AnÃ¡lisis de Rentabilidad
parent: 3.1.7.2
breadcrumb: 0 â†’ 3.0 â†’ 3.1 â†’ 3.1.7 â†’ 3.1.7.2 â†’ 3.1.7.2.3
type: hoja
status: activo
last_updated: 2026-01-29 15:32
file_create: 2025-12-27 14:04
domain:
- margenes
- rentabilidad
- analisis
actors:
- admin
summary: 'EvaluaciÃ³n completa de rentabilidad por servicio y perÃ­odo.

  ClasificaciÃ³n de estados y vista SQL.'
content_hash: a6f2ec7b86c53709
---

# 3.1.7.2.3 AnÃ¡lisis de Rentabilidad

EvaluaciÃ³n completa de rentabilidad por servicio y perÃ­odo.

---

## ClasificaciÃ³n de Rentabilidad

| Margen | Estado | AcciÃ³n |
|--------|--------|--------|
| â‰¥15% | ğŸŸ¢ Excelente | Mantener precio |
| 10-14% | ğŸŸ¡ Aceptable | Monitorear |
| 5-9% | ğŸŸ  Bajo | Revisar costos |
| <5% | ğŸ”´ CrÃ­tico | Ajustar precio |

---

## Vista SQL: Rentabilidad por Servicio

```sql
CREATE VIEW v_rentabilidad_servicios AS
SELECT 
  s.id,
  s.nombre,
  s.precio_base,
  COALESCE(m.costo_materiales, 0) as materiales,
  COALESCE(t.costo_tiempo, 0) as tiempo,
  COALESCE(e.costo_desgaste, 0) as desgaste,
  (s.precio_base * gi.factor) as indirectos,
  
  -- ComisiÃ³n promedio (70% medio)
  (s.precio_base * 0.70) as comision_operador,
  
  -- Utilidad
  s.precio_base 
    - (s.precio_base * 0.70) 
    - (s.precio_base * gi.factor) as utilidad,
  
  -- Margen %
  ((s.precio_base - (s.precio_base * 0.70) - (s.precio_base * gi.factor)) 
    / s.precio_base * 100) as margen_pct,
  
  -- Estado
  CASE 
    WHEN ((s.precio_base - (s.precio_base * 0.70) - (s.precio_base * gi.factor)) 
      / s.precio_base * 100) >= 15 THEN 'excelente'
    WHEN ((s.precio_base - (s.precio_base * 0.70) - (s.precio_base * gi.factor)) 
      / s.precio_base * 100) >= 10 THEN 'aceptable'
    WHEN ((s.precio_base - (s.precio_base * 0.70) - (s.precio_base * gi.factor)) 
      / s.precio_base * 100) >= 5 THEN 'bajo'
    ELSE 'critico'
  END as estado_rentabilidad

FROM servicios s
CROSS JOIN v_factor_indirectos gi
LEFT JOIN v_costo_materiales m ON m.servicio_id = s.id
LEFT JOIN v_costo_tiempo t ON t.servicio_id = s.id
LEFT JOIN v_costo_desgaste e ON e.servicio_id = s.id;
```

---

## UI Admin: Tabla de Rentabilidad

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š RENTABILIDAD POR SERVICIO                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Servicio              â”‚ Precioâ”‚ Costo â”‚ Margenâ”‚ Estado         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Lavado BÃ¡sico         â”‚  $290 â”‚  $268 â”‚  7.6% â”‚ ğŸŸ  Bajo        â”‚
â”‚  Lavado Premium        â”‚  $500 â”‚  $461 â”‚  7.8% â”‚ ğŸŸ  Bajo        â”‚
â”‚  Limpieza Interiores   â”‚  $360 â”‚  $332 â”‚  7.8% â”‚ ğŸŸ  Bajo        â”‚
â”‚  Pulido y Encerado     â”‚ $1570 â”‚ $1448 â”‚  7.8% â”‚ ğŸŸ  Bajo        â”‚
â”‚  ProtecciÃ³n CerÃ¡mica   â”‚ $3140 â”‚ $2896 â”‚  7.8% â”‚ ğŸŸ  Bajo        â”‚
â”‚                                                                 â”‚
â”‚  âš ï¸ ALERTA: 5/5 servicios con margen bajo                       â”‚
â”‚                                                                 â”‚
â”‚  [ Ver recomendaciones de precio ]                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## NavegaciÃ³n

| â¬†ï¸ Padre            | [[Proyecto OnlyCarNLD/Datos/3.1.7.2 margenes_ganancia]]     |
| ------------------- | --------------------------------- |
| â¬…ï¸ Hermano anterior | [[Proyecto OnlyCarNLD/Datos/3.1.7.2.2 punto_equilibrio]]    |

---
