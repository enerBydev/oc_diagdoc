---
id: 4.8.6
title: Disaster Recovery
parent: '4.8'
breadcrumb: 0 → 4.0 → 4.8 → 4.8.6
type: hoja
status: activo
last_updated: 2026-01-29 15:31
file_create: 2026-01-05 20:00
domain:
- devops
- dr
- backup
actors:
- devops
summary: Plan de recuperación ante desastres y continuidad de negocio.
content_hash: 89b05ff64305099c
---

# 4.8.6 Disaster Recovery

> Plan de recuperación ante desastres y continuidad.

---

## Objetivos

| Métrica | Objetivo | Significado |
|---------|----------|-------------|
| **RTO** | 4 horas | Tiempo máximo para restaurar servicio |
| **RPO** | 1 hora | Pérdida máxima de datos aceptable |

---

## Escenarios de Fallo

| Escenario | Impacto | Mitigación |
|-----------|---------|------------|
| Cloudflare Down | Total | Failover DNS a backup |
| Supabase Down | BD/Auth | Réplica en otra región |
| Stripe Down | Pagos | Modo efectivo only |
| GitHub Down | Deploy | Deploy manual desde local |

---

## Backups

| Dato | Frecuencia | Retención | Ubicación |
|------|------------|-----------|-----------|
| Base de datos | Cada hora | 30 días | Supabase + R2 |
| Storage (R2) | Continuo | Indefinido | Cross-region |
| Configs | Push | Indefinido | GitHub |

---

## Procedimiento de Recuperación

```
1. DETECTAR
   ├── Alerta automática (Sentry, Uptime)
   └── Notificación a on-call
   
2. EVALUAR
   ├── Identificar componente afectado
   └── Estimar impacto
   
3. ACTUAR
   ├── Activar runbook correspondiente
   ├── Comunicar a usuarios (status page)
   └── Ejecutar recuperación
   
4. VERIFICAR
   ├── Tests de humo
   └── Monitoreo intensivo 1h
   
5. POSTMORTEM
   └── Documentar y prevenir
```

---

## Runbooks

| Runbook | Ubicación |
|---------|-----------|
| DB Rollback | `/runbooks/db-rollback.md` |
| DNS Failover | `/runbooks/dns-failover.md` |
| Deploy Manual | `/runbooks/manual-deploy.md` |

---

## Navegación

| ⬆️ Padre | [[Proyecto OnlyCarNLD/Datos/4.8 Ambientes_Despliegue]] |
|----------|------------------------------|
| ⬅️ Anterior | [[Proyecto OnlyCarNLD/Datos/4.8.5 Feature_Flags]] |

---
