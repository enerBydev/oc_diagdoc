---
id: 2.20.1
title: Biometría de Identidad
parent: '2.20'
breadcrumb: 0 → 2.0 → 2.20 → 2.20.1
type: arquitectura
status: futuro
domain:
- kyc
- veriff
- seguridad
- identidad
summary: Implementación técnica de validación de identidad (KYC) usando SDKs nativos
  en Capacitor.
last_updated: 2026-01-29 15:32
content_hash: fa9a7eda651a63f3
---

# 2.20.1 Biometría de Identidad

> **[FUTURO]** Especificación técnica para integrar Liveness Checks y OCR avanzado.

---

## Arquitectura de Integración (Veriff/Incode)

No reinventamos la rueda. Utilizamos proveedores certificados ISO-27001 para manejar datos biométricos sensibles.

### Flujo de Verificación (Operadores)

1.  **Trigger:** Usuario llega al paso [[Proyecto OnlyCarNLD/Datos/1.2.2.1.2 verificacion_identidad]].
2.  **Session:** Backend (Nitro) solicita `session_url` al proveedor API.
3.  **Handoff:** App Capacitor abre el SDK Nativo (no Webview) para acceso total a cámara.
4.  **Capture:**
    *   Foto Frente/Reverso INE.
    *   Video Selfie (Liveness: "Gira la cabeza", "Sonríe").
5.  **Webhook:** Proveedor notifica a `api/webhooks/identity-decision`.

---

## Implementación en Capacitor

### Plugin Nativo
Usaremos un wrapper oficial o custom bridge para el SDK del proveedor.

```typescript
// Ejemplo conceptual
import { IdentityVerification } from '@onlycar/capacitor-identity';

const startVerification = async (sessionId: string) => {
  try {
    const result = await IdentityVerification.start({ sessionUrl: sessionId });
    if (result.status === 'APPROVED') {
      await updateLocalStatus('VERIFIED');
    }
  } catch (e) {
    console.error('Error biometrico', e);
  }
};
```

---

## Seguridad de Datos

*   **Zero Storage:** OnlyCar NO almacena las fotos biométricas ni videos en su DB principal.
*   **Reference Only:** Guardamos `verification_id` y `decision_timestamp` en Supabase.
*   **Audit Trail:** Logs de intentos fallidos para detectar ataques de suplantación.

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.20. Arquitectura_IA_Biometria]] |
| -------------------- | ----------------------------------- |
| ⬅️ Hermano anterior  | *No tiene*                          |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.20.2 AI_Vision_Vehicular]]      |

---
