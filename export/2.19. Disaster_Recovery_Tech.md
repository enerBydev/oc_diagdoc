---
id: 2.19
title: Tecnología Disaster Recovery
parent: '2.0'
breadcrumb: 0 → 2.0 → 2.19
type: modulo_padre
status: activo
children_count: 3
descendants_count: 3
domain:
- disaster-recovery
- backups
- pitr
- failover
file_create: 2026-01-14 12:55
last_updated: 2026-01-29 15:32
summary: Herramientas tecnológicas y scripts para la ejecución de recuperación ante
  desastres.
content_hash: 307fb2d7e47afe5a
---

# 2.19 Tecnología Disaster Recovery

> "El backup no sirve si el restore no funciona". Tooling técnico para soporte al plan de continuidad.

---

## Stack de Backup & Restore

| Capa | Tecnología | Estrategia Técnica |
|------|------------|--------------------|
| **Base de Datos** | **Supabase PITR** | Point-in-Time Recovery (Retención 7 días). Script `npm run db:restore -- --time=iso` |
| **Storage (Fotos)** | **Restic + B2** | Replicación encriptada a Backblaze B2 (offsite). |
| **Código** | **Git Mirroring** | Push automático a GitLab (Backup de GitHub). |
| **DNS** | **Cloudflare** | Reglas de Failover automático si el origen cae. |

---

## Scripts de Emergencia (Ops)

Ubicados en `/ops/emergency/`:

*   `switch-dns.sh`: Cambia apuntadores DNS a página de mantenimiento estática (Netlify).
*   `dump-audit-logs.sh`: Exfiltra logs de auditoría en caso de compromiso de seguridad.
*   `purge-cache-force.sh`: Invalida toda la caché de Cloudflare globalmente.

---

## Relaciones

*   Implementa la política definida en: [[Proyecto OnlyCarNLD/Datos/3.4.4 Disaster_Recovery]]
*   Utiliza credenciales de: [[Proyecto OnlyCarNLD/Datos/2.3. APIs_credentials]]

---

## Estructura de Hijos

| ID | Nombre | Descripción | Estado |
|----|--------|-------------|--------|
| [[Proyecto OnlyCarNLD/Datos/2.19.1 Backup_Automation\|2.19.1]] | Backup Automation | Scripts PITR, Restic, Cron Jobs | ✅ |
| [[Proyecto OnlyCarNLD/Datos/2.19.2 Restore_Procedures\|2.19.2]] | Restore Procedures | Runbooks de Recuperación | ✅ |
| [[Proyecto OnlyCarNLD/Datos/2.19.3 Failover_DNS\|2.19.3]] | Failover DNS | Cloudflare Load Balancing | ✅ |

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.0. tecnologia]] |
| -------------------- | ------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/2.18. Testing_Infrastructure]] |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.20. Arquitectura_IA_Biometria]] |

---
