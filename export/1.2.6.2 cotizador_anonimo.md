---
id: 1.2.6.2
title: Cotizador An√≥nimo
parent: 1.2.6
breadcrumb: 0 ‚Üí 1.0 ‚Üí 1.2 ‚Üí 1.2.6 ‚Üí 1.2.6.2
type: feature
status: activo
last_updated: 2026-01-29 15:31
file_create: 2026-01-10 12:14
domain:
- cotizacion
- conversion
actors:
- invitado
summary: Cotizador de servicios que funciona sin registro ni guardar datos personales.
content_hash: affd8e4699854921
---

# 1.2.6.2 Cotizador An√≥nimo

> Calcular precio sin crear cuenta.

---

## Prop√≥sito

| Objetivo | Descripci√≥n |
|----------|-------------|
| **Transparencia** | Usuario conoce precio antes de registrarse |
| **Conversi√≥n** | Reduce fricci√≥n, aumenta confianza |
| **SEO** | P√°gina indexable con contenido √∫til |
| **Privacidad** | No requiere datos personales |

---

## Flujo del Cotizador

```mermaid
sequenceDiagram
    participant I as Invitado
    participant C as Cotizador
    participant A as API (an√≥nima)
    
    I->>C: Selecciona tipo veh√≠culo
    I->>C: Selecciona servicio
    I->>C: ¬øAdicionales?
    C->>A: GET /api/public/cotizar
    A-->>C: Precio calculado
    C->>I: Muestra precio + CTA
    
    I->>C: Clic "Agendar"
    C->>I: Modal de registro
```

---

## UI del Cotizador

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üöó COTIZA TU SERVICIO                                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ  PASO 1: ¬øQu√© tipo de veh√≠culo tienes?                          ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ              ‚îÇ
‚îÇ  ‚óã Sed√°n/Compacto   ‚óã SUV/Camioneta   ‚óã Pickup   ‚óã Van          ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  PASO 2: ¬øQu√© servicio necesitas?                               ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
‚îÇ  ‚îÇ üßº Brillo   ‚îÇ  ‚îÇ‚ú®Protecci√≥n ‚îÇ  ‚îÇüíéExcelencia ‚îÇ              ‚îÇ
‚îÇ  ‚îÇ    Express  ‚îÇ  ‚îÇ    Total    ‚îÇ  ‚îÇ  Definitiva ‚îÇ              ‚îÇ
‚îÇ  ‚îÇ Desde $360  ‚îÇ  ‚îÇ Desde $710  ‚îÇ  ‚îÇ Desde $2860 ‚îÇ              ‚îÇ
‚îÇ  ‚îÇ 45 min      ‚îÇ  ‚îÇ 90 min      ‚îÇ  ‚îÇ 3 hrs       ‚îÇ              ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  PASO 3: ¬øServicios adicionales?                                ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ              ‚îÇ
‚îÇ  ‚òê Limpieza de motor (+$150)                                    ‚îÇ
‚îÇ  ‚òê Tratamiento de piel (+$200)                                  ‚îÇ
‚îÇ  ‚òê Eliminaci√≥n de olores (+$100)                                ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê    ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  TU COTIZACI√ìN                                                  ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ              ‚îÇ
‚îÇ  SUV + Premium + Motor                                          ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  Subtotal:          $449 MXN                                    ‚îÇ
‚îÇ  Adicional motor:   $150 MXN                                    ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                                  ‚îÇ
‚îÇ  TOTAL:             $599 MXN                                    ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  [ Agendar ahora ‚Üí ]                                            ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚ìò Este precio es estimado. El precio final puede variar        ‚îÇ
‚îÇ    seg√∫n ubicaci√≥n y estado del veh√≠culo.                       ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## API P√∫blica

> [!IMPORTANT]
> Los precios mostrados abajo son **ilustrativos**. 
> Fuente de verdad: [[Proyecto OnlyCarNLD/Datos/3.1.1 config_precios_v3.2]] y [[Proyecto OnlyCarNLD/Datos/3.1.6 datos_iniciales_seed]]

```typescript
// server/api/public/cotizar.get.ts
// Precios obtenidos din√°micamente desde BD
// Ver [[3.1.5 api_logica_negocio]] para endpoints completos

export default defineEventHandler(async (event) => {
  const query = getQuery(event);
  const { vehiculo, servicio, adicionales } = query;
  
  // Consultar precios desde vista materializada
  // Ver [[3.1.4.5 Vistas_Materializadas]] para estructura
  const precios = await db
    .select()
    .from(mv_precios_publicos)
    .where(eq(mv_precios_publicos.servicio_codigo, servicio));
  
  const precio_base = precios.find(p => p.vehiculo === vehiculo)?.precio_b2c || 0;
  
  // Adicionales desde tabla servicios_adicionales
  let adicionales_total = 0;
  if (adicionales) {
    const adds = adicionales.split(',');
    for (const a of adds) {
      const adicional = await getAdicionalPrecio(a);
      adicionales_total += adicional;
    }
  }
  
  return {
    vehiculo,
    servicio,
    adicionales: adicionales?.split(',') || [],
    subtotal: precio_base,
    adicionales_total,
    total: precio_base + adicionales_total,
    disclaimer: 'Precio estimado. Puede variar seg√∫n ubicaci√≥n.',
  };
});
```

---

## Datos NO Recolectados

| Dato | ¬øSe recolecta? | Raz√≥n |
|------|----------------|-------|
| Email | ‚ùå No | No requerido |
| Tel√©fono | ‚ùå No | No requerido |
| Ubicaci√≥n exacta | ‚ùå No | Solo zona general |
| IP | ‚ö†Ô∏è Logs t√©cnicos | Solo para rate limiting |
| Cookies personales | ‚ùå No | Solo funcionales |

---

## Transici√≥n a Registro

Cuando el invitado hace clic en "Agendar":

```typescript
// Al hacer clic en "Agendar"
const handleAgendar = () => {
  // Guardar cotizaci√≥n en sessionStorage (no persistente)
  sessionStorage.setItem('cotizacion_temp', JSON.stringify({
    vehiculo,
    servicio,
    adicionales,
    total,
    timestamp: Date.now(),
  }));
  
  // Redirigir a registro con par√°metro
  navigateTo('/registro?from=cotizador');
};
```

---

## Navegaci√≥n

| ‚¨ÜÔ∏è Padre | [[Proyecto OnlyCarNLD/Datos/1.2.6 perfil_invitado]] |
|----------|--------------------------|
| ‚¨ÖÔ∏è Hermano anterior | [[Proyecto OnlyCarNLD/Datos/1.2.6.1 contenido_publico]] |
| ‚û°Ô∏è Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/1.2.6.3 puntos_conversion]] |

---
