---
id: 7.5.2
title: Integration Tests
parent: '7.5'
breadcrumb: 0 → 7.0 → 7.5 → 7.5.2
type: hoja
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-21 12:36
domain:
- integration-tests
- api-tests
- database
summary: Tests de integración entre componentes y servicios.
content_hash: 3837fbaea02613ae
---

# 7.5.2 Integration Tests

> Tests que verifican la comunicación entre componentes.

---

## Tipos de Integration Tests

| Tipo | Qué Prueba | Herramienta |
|------|------------|-------------|
| API | Endpoints REST | Vitest + Nitro |
| Database | Queries, RLS | Vitest + Supabase |
| Webhooks | Event handlers | Vitest + mocks |

---

## Ejemplo: API Test

```typescript
describe('POST /api/citas', () => {
  it('should create a cita', async () => {
    const response = await $fetch('/api/citas', {
      method: 'POST',
      body: {
        servicioId: 'lavado-express',
        ubicacion: { lat: 27.48, lng: -99.50 },
        fechaHora: '2026-01-21T10:00:00'
      },
      headers: { Authorization: `Bearer ${token}` }
    });
    
    expect(response.success).toBe(true);
    expect(response.cita.id).toBeDefined();
  });
});
```

---

## Navegación

| ⬆️ Padre | [[Proyecto OnlyCarNLD/Datos/7.5 TDD_Testing_Strategy]] |
|----------|------------------------------|
| ⬅️ Anterior | [[Proyecto OnlyCarNLD/Datos/7.5.1 Unit_Tests]] |
| ➡️ Siguiente | [[Proyecto OnlyCarNLD/Datos/7.5.3 E2E_Tests]] |

---
