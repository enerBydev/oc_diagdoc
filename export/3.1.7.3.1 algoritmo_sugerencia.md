---
id: 3.1.7.3.1
title: Algoritmo de Sugerencia
parent: 3.1.7.3
breadcrumb: 0 â†’ 3.0 â†’ 3.1 â†’ 3.1.7 â†’ 3.1.7.3 â†’ 3.1.7.3.1
type: hoja
status: activo
last_updated: 2026-01-29 15:32
file_create: 2025-12-27 14:04
domain:
- algoritmo
- precios
- sugerencias
actors:
- admin
- sistema
summary: 'FÃ³rmula para calcular precio recomendado basado en costos y margen.

  AnÃ¡lisis del modelo actual y escenarios de ajuste.'
content_hash: 8e557bb48adbf31b
---

# 3.1.7.3.1 Algoritmo de Sugerencia

FÃ³rmula para calcular precio recomendado.

---

## FÃ³rmula Base

```typescript
const calcularPrecioRecomendado = (
  costoDirecto: number,
  comisionOperador: number,  // % como 0.70
  gastosIndirectos: number,  // % como 0.131
  margenDeseado: number      // % como 0.15
): number => {
  // Precio = Costo / (1 - comision - indirectos - margen)
  const factorTotal = 1 - comisionOperador - gastosIndirectos - margenDeseado;
  const precioMinimo = costoDirecto / factorTotal;
  
  // Redondear al mÃºltiplo de 10
  return Math.ceil(precioMinimo / 10) * 10;
};

// âš ï¸ VALORES REFERENCIA DE [[3.1.1 config_precios_v3.2]]
// ComisiÃ³n (70%) y Gastos Indirectos (13.1%)

// Ejemplo con Lavado BÃ¡sico:
// Costo directo: $55.60
// ComisiÃ³n: 70% (Config Global)
// Indirectos: 13.1% (Config Global)
// Margen deseado: 15% (Target)
// Factor: 1 - 0.70 - 0.131 - 0.15 = 0.019

// âš ï¸ PROBLEMA: Factor tiende a cero con comisiones altas
```

---

## AnÃ¡lisis del Problema

```
Con comisiÃ³n 70% + indirectos 13.1%:
  Espacio disponible = 100% - 70% - 13.1% = 16.9%

  Si margen deseado = 15%:
    Espacio para costos = 1.9%
    
  En $290: 1.9% = $5.51 para costos directos
  Pero costos reales = $55.60
  
  CONCLUSIÃ“N: El modelo actual NO ES SOSTENIBLE
```

---

## Escenarios de Precio Recomendado

```typescript
// Dado: costo directo $55.60

// Escenario A: Mantener 70% comisiÃ³n, 10% margen
const escenarioA = 55.60 / (1 - 0.70 - 0.131 - 0.10);
// = $804.35 (muy alto)

// Escenario B: Bajar comisiÃ³n a 65%, margen 10%
const escenarioB = 55.60 / (1 - 0.65 - 0.131 - 0.10);
// = $467.23

// Escenario C: Modelo actual 70%, margen 5%
const escenarioC = 55.60 / (1 - 0.70 - 0.131 - 0.05);
// = $466.39
```

---

## RecomendaciÃ³n del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¡ RECOMENDACIÃ“N: LAVADO EXTERIOR BÃSICO                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Precio actual:              $290                               â”‚
â”‚  Costo directo:              $55.60                             â”‚
â”‚  Margen actual:              -3.2% â›”                           â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€ OPCIONES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                 â”‚
â”‚  OpciÃ³n 1: Subir precio                                         â”‚
â”‚  â””â”€â”€ Precio recomendado: $350 â†’ Margen 5.2% ğŸŸ                   â”‚
â”‚                                                                 â”‚
â”‚  OpciÃ³n 2: Ajustar comisiÃ³n nivel Nuevo                         â”‚
â”‚  â””â”€â”€ ComisiÃ³n 65% â†’ Margen 8.8% ğŸŸ                               â”‚
â”‚                                                                 â”‚
â”‚  OpciÃ³n 3: Ambos                                                â”‚
â”‚  â””â”€â”€ $320 + comisiÃ³n 65% â†’ Margen 10.1% ğŸŸ¡                      â”‚
â”‚                                                                 â”‚
â”‚  [ Aplicar OpciÃ³n 1 ]  [ Aplicar OpciÃ³n 3 ]  [ Ignorar ]        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## NavegaciÃ³n

| â¬†ï¸ Padre             | [[Proyecto OnlyCarNLD/Datos/3.1.7.3 recomendador_precios]]   |
| -------------------- | ---------------------------------- |
| â¡ï¸ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/3.1.7.3.2 factores_mercado]]     |

---
