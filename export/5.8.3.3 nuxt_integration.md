---
id: 5.8.3.3
title: Nuxt Integration
parent: 5.8.3
breadcrumb: 0 → 5.0 → 5.8 → 5.8.3 → 5.8.3.3
type: integracion
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-01 18:08
domain:
- nuxt
- leaflet
- ssr
summary: Integración de Leaflet con Nuxt.
content_hash: 419b89e69852a8b5
---

# 5.8.3.3 Nuxt Integration

Integración de Leaflet con Nuxt 4 (SSR/CSR).

---

## Problema: SSR

Leaflet usa `window` y `document`, que no existen en SSR.

---

## Solución: Client-Only

```vue
<template>
  <ClientOnly>
    <MapaUbicacion :lat="lat" :lng="lng" />
    <template #fallback>
      <div class="map-skeleton">Cargando mapa...</div>
    </template>
  </ClientOnly>
</template>
```

---

## Dynamic Import

```typescript
// composables/useLeaflet.ts
export const useLeaflet = async () => {
  if (import.meta.server) return null;
  
  const L = await import('leaflet');
  await import('leaflet/dist/leaflet.css');
  
  return L.default;
};
```

---

## Plugin Nuxt (Optional)

```typescript
// plugins/leaflet.client.ts
export default defineNuxtPlugin(async () => {
  const L = await import('leaflet');
  await import('leaflet/dist/leaflet.css');
  
  return {
    provide: {
      L: L.default
    }
  };
});
```

---

## Uso en Componente

```vue
<script setup lang="ts">
const { $L } = useNuxtApp();

onMounted(() => {
  if (!$L) return;
  const map = $L.map(container).setView([lat, lng], 15);
  $L.tileLayer(OSM_URL).addTo(map);
});
</script>
```

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/5.8.3 mapas_visualizacion]]            |
| -------------------- | ---------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/5.8.3.2 markers_dinamicos]]              |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/5.8.3.4 responsive_design]]              |
