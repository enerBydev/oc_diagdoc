---
id: 1.3.7.1
title: Filtros DinÃ¡micos
parent: 1.3.7
breadcrumb: 0 â†’ 1.0 â†’ 1.3 â†’ 1.3.7 â†’ 1.3.7.1
type: hoja
status: activo
domain: comunicacion
summary: Sistema de filtrado avanzado para el Hub Chat Admin con filtros por tipo
  de usuario, estado, urgencia, fecha y etiqueta.
version: 1.0
last_updated: 2026-01-29 15:32
file_create: 2025-12-24 10:31
actors:
- admin
dependencies:
- nuxt
- vue
affects:
- 1.3.7 hub_chat_admin
content_hash: 1e69d9f2dc7e9d35
---

# 1.3.7.1 Filtros DinÃ¡micos

Sistema de filtrado avanzado para el Hub Chat Admin.

---

## Filtros Disponibles

### Por Tipo de Usuario

| Filtro | Muestra | Icono |
|--------|---------|-------|
| **Todos** | Todas las conversaciones | ğŸ’¬ |
| **Operadores** | Solo chats con operadores | ğŸ› ï¸ |
| **B2C** | Clientes B2C puro | ğŸ‘¤ |
| **Corporate+** | Empleados de empresas B2B | â­ |
| **B2B** | Representantes de empresas | ğŸ¢ |

### Por Estado

| Filtro | DescripciÃ³n |
|--------|-------------|
| **Activos** | Con mensajes pendientes de leer |
| **Pendientes** | Esperando respuesta del Admin |
| **Resueltos** | Sin acciÃ³n requerida |
| **Archivados** | Conversaciones cerradas |

### Por Urgencia

| Filtro | Incluye |
|--------|---------|
| **Urgente** | Incidencias, quejas â‰¤3â­ |
| **Normal** | Consultas regulares |
| **Informativo** | Agradecimientos, confirmaciones |

### Por Fecha

| Filtro | Rango |
|--------|-------|
| Hoy | Ãšltimas 24 horas |
| Semana | Ãšltimos 7 dÃ­as |
| Mes | Ãšltimos 30 dÃ­as |
| Personalizado | Selector de fechas |

### Por Etiqueta

| Etiqueta | Color | Uso |
|----------|-------|-----|
| ğŸ·ï¸ Incidencia | Rojo | Problemas reportados |
| ğŸ·ï¸ Contrato | Azul | Negociaciones B2B |
| ğŸ·ï¸ Referidos | Morado | Consultas de referidos |
| ğŸ·ï¸ Pago | Verde | Temas de facturaciÃ³n |
| ğŸ·ï¸ Soporte | Gris | Dudas generales |

---

## ImplementaciÃ³n UI

```vue
<!-- components/ChatFilters.vue -->
<template>
  <div class="chat-filters">
    <!-- Filtros por tipo -->
    <div class="filter-tabs">
      <button 
        v-for="tipo in tipos" 
        :key="tipo.id"
        :class="{ active: filtroActivo === tipo.id }"
        @click="setFiltro(tipo.id)"
      >
        {{ tipo.icono }} {{ tipo.nombre }}
        <span class="badge">{{ contadores[tipo.id] }}</span>
      </button>
    </div>
    
    <!-- Filtros avanzados -->
    <div class="advanced-filters">
      <select v-model="filtros.estado">
        <option value="todos">Todos los estados</option>
        <option value="activos">Activos</option>
        <option value="pendientes">Pendientes</option>
        <option value="resueltos">Resueltos</option>
      </select>
      
      <select v-model="filtros.urgencia">
        <option value="todas">Todas las urgencias</option>
        <option value="urgente">ğŸ”´ Urgente</option>
        <option value="normal">ğŸŸ¡ Normal</option>
        <option value="informativo">ğŸŸ¢ Informativo</option>
      </select>
    </div>
  </div>
</template>
```

---

## LÃ³gica de Filtrado

```typescript
const aplicarFiltros = (conversacion: Conversacion, filtros: Filtros) => {
  // Tipo de usuario
  if (filtros.tipoUsuario !== 'todos') {
    if (conversacion.participante.tipo !== filtros.tipoUsuario) {
      return false;
    }
  }
  
  // Estado
  if (filtros.estado !== 'todos') {
    if (conversacion.estado !== filtros.estado) {
      return false;
    }
  }
  
  // Urgencia
  if (filtros.urgencia !== 'todas') {
    if (calcularUrgencia(conversacion) !== filtros.urgencia) {
      return false;
    }
  }
  
  // Fecha
  if (filtros.fecha !== 'todos') {
    if (!dentroDeRango(conversacion.ultimoMensaje, filtros.fecha)) {
      return false;
    }
  }
  
  return true;
};

const calcularUrgencia = (conv: Conversacion) => {
  if (conv.tieneIncidencia || conv.tieneQueja) return 'urgente';
  if (conv.pendienteRespuesta) return 'normal';
  return 'informativo';
};
```

---

## Persistencia

Los filtros se guardan en localStorage para persistir entre sesiones:

```typescript
const guardarFiltros = () => {
  localStorage.setItem('chatHubFilters', JSON.stringify(filtros.value));
};

const cargarFiltros = () => {
  const saved = localStorage.getItem('chatHubFilters');
  if (saved) {
    filtros.value = JSON.parse(saved);
  }
};
```

---

## NavegaciÃ³n

| â¬†ï¸ Padre             | [[Proyecto OnlyCarNLD/Datos/1.3.7 hub_chat_admin]]          |
| -------------------- | --------------------------------- |
| â¡ï¸ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/1.3.7.2 acciones_masivas]]      |

---
