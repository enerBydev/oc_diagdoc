---
id: 5.9.1.2
title: Integración Nuxt
parent: 5.9.1
breadcrumb: 0 → 5.0 → 5.9 → 5.9.1 → 5.9.1.2
type: hoja
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-03 00:57
domain:
- tawk
- nuxt
- vue
actors:
- desarrollador
summary: 'Integración de Tawk.to con Nuxt 4 usando el plugin oficial Vue 3.

  Configuración en nuxt.config y composable para control programático.'
content_hash: 5e40ec844565f9d9
---

# 5.9.1.2 Integración Nuxt

> Integración del widget Tawk.to en la aplicación Nuxt 4 de OnlyCar.

---

## Instalación

```bash
npm install @tawk.to/tawk-messenger-vue-3
```

---

## Opción 1: Plugin Nuxt (Recomendado)

### Crear Plugin

```typescript
// plugins/tawk.client.ts
import TawkMessengerVue from '@tawk.to/tawk-messenger-vue-3'

export default defineNuxtPlugin((nuxtApp) => {
  nuxtApp.vueApp.use(TawkMessengerVue, {
    propertyId: useRuntimeConfig().public.tawkPropertyId,
    widgetId: useRuntimeConfig().public.tawkWidgetId || 'default'
  })
})
```

### Configurar nuxt.config.ts

```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  runtimeConfig: {
    public: {
      tawkPropertyId: process.env.TAWK_PROPERTY_ID,
      tawkWidgetId: process.env.TAWK_WIDGET_ID || 'default'
    }
  }
})
```

---

## Opción 2: Composable Personalizado

```typescript
// composables/useTawkChat.ts
export const useTawkChat = () => {
  const isLoaded = ref(false)
  
  // Mostrar widget
  const show = () => {
    if (window.Tawk_API) {
      window.Tawk_API.showWidget()
    }
  }
  
  // Ocultar widget
  const hide = () => {
    if (window.Tawk_API) {
      window.Tawk_API.hideWidget()
    }
  }
  
  // Abrir chat
  const open = () => {
    if (window.Tawk_API) {
      window.Tawk_API.maximize()
    }
  }
  
  // Cerrar chat
  const close = () => {
    if (window.Tawk_API) {
      window.Tawk_API.minimize()
    }
  }
  
  // Enviar atributos del visitante
  const setVisitorAttributes = (attrs: {
    name?: string
    email?: string
    hash?: string
  }) => {
    if (window.Tawk_API) {
      window.Tawk_API.setAttributes(attrs)
    }
  }
  
  return {
    isLoaded,
    show,
    hide,
    open,
    close,
    setVisitorAttributes
  }
}
```

---

## Uso en Componentes

### Botón de Ayuda

```vue
<!-- components/HelpButton.vue -->
<script setup lang="ts">
const { open } = useTawkChat()
</script>

<template>
  <UButton 
    icon="i-heroicons-chat-bubble-left-ellipsis"
    label="¿Necesitas ayuda?"
    @click="open"
  />
</template>
```

### Ocultar en Rutas Específicas

```typescript
// middleware/hideTawk.ts
export default defineNuxtRouteMiddleware((to) => {
  const { hide, show } = useTawkChat()
  
  // Ocultar en dashboard de operador
  if (to.path.startsWith('/operador/')) {
    hide()
  } else {
    show()
  }
})
```

---

## Eventos Disponibles

```typescript
// Escuchar eventos de Tawk
onMounted(() => {
  window.Tawk_API = window.Tawk_API || {}
  
  window.Tawk_API.onLoad = () => {
    console.log('Tawk widget cargado')
  }
  
  window.Tawk_API.onChatStarted = () => {
    console.log('Chat iniciado')
  }
  
  window.Tawk_API.onChatEnded = () => {
    console.log('Chat terminado')
  }
})
```

---

## Rutas Donde Mostrar/Ocultar

| Ruta | Widget | Razón |
|------|--------|-------|
| `/` (landing) | ✅ Mostrar | Visitantes nuevos |
| `/precios` | ✅ Mostrar | Consultas pre-venta |
| `/registro/operador` | ✅ Mostrar | FAQ de registro |
| `/dashboard/*` | ❌ Ocultar | Usan chat interno |
| `/operador/*` | ❌ Ocultar | Usan chat interno |

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/5.9.1 tawk_live_chat]]          |
| -------------------- | --------------------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/5.9.1.1 configuracion_widget]]  |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/5.9.1.3 capacitor_mobile]]      |

---
