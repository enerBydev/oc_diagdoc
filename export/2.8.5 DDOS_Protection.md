---
id: 2.8.5
title: DDOS Protection
parent: '2.8'
breadcrumb: 0 ‚Üí 2.0 ‚Üí 2.8 ‚Üí 2.8.5
type: seguridad
children_count: 0
descendants_count: 0
status: activo
domain:
- seguridad
- ddos
- cloudflare
- proteccion
actors:
- devops
- admin
summary: 'Estrategia de protecci√≥n contra ataques DDoS: Cloudflare Shield, detecci√≥n
  de bots y mitigaci√≥n autom√°tica.'
last_updated: 2026-01-29 15:32
file_create: 2026-01-22 23:10
content_hash: 05c8beba4a383bcb
---

# 2.8.5 DDOS Protection

> Protecci√≥n contra ataques de denegaci√≥n de servicio distribuido.

---

## Capas de Protecci√≥n

```mermaid
flowchart LR
    ATTACK[üî¥ DDoS Attack] --> CF[Cloudflare Edge]
    CF --> |Mitigated| DROP[‚ùå Dropped]
    CF --> |Clean Traffic| ORIGIN[‚úÖ Origin Server]
    
    CF --> L3[Layer 3/4 Protection]
    CF --> L7[Layer 7 Protection]
    CF --> BOT[Bot Management]
```

---

## Configuraci√≥n Cloudflare

### Layer 3/4 (Network)
| Protecci√≥n | Estado | Umbral |
|------------|--------|--------|
| **SYN Flood** | Autom√°tico | Cloudflare managed |
| **UDP Amplification** | Autom√°tico | Cloudflare managed |
| **ICMP Flood** | Autom√°tico | Cloudflare managed |

### Layer 7 (Application)
| Protecci√≥n | Configuraci√≥n | Acci√≥n |
|------------|---------------|--------|
| **HTTP Flood** | 10,000 req/s | Challenge |
| **Slowloris** | Timeout 30s | Drop |
| **Cache Busting** | Query string limit | Block |

---

## Bot Management

| Categor√≠a | Acci√≥n | Ejemplo |
|-----------|--------|---------|
| **Verified Bots** | Allow | Googlebot, Bingbot |
| **Likely Automated** | Challenge | Scrapers |
| **Definitely Automated** | Block | DDoS bots |

---

## Modo "Under Attack"

En caso de ataque activo, habilitar manualmente:

```bash
# Via Cloudflare API
curl -X PATCH "https://api.cloudflare.com/client/v4/zones/{zone_id}/settings/security_level" \
  -H "Authorization: Bearer $CF_API_TOKEN" \
  -d '{"value":"under_attack"}'
```

**Efectos:**
- Todos los visitantes pasan por JS Challenge (5s delay)
- Tr√°fico malicioso reducido > 95%

---

## Alertas de Ataque

| M√©trica | Umbral | Notificaci√≥n |
|---------|--------|--------------|
| Traffic spike | > 500% baseline | Slack + PagerDuty |
| Block rate | > 50% requests | Slack |
| Origin 5xx | > 10% | PagerDuty Critical |

---

## Runbook de Respuesta

1. **Detectar:** Alerta de Cloudflare o Sentry
2. **Evaluar:** Dashboard Analytics ‚Üí ¬øAtaque o viral leg√≠timo?
3. **Mitigar:** Activar "Under Attack Mode" si necesario
4. **Escalar:** Si persiste > 30min, contactar Cloudflare Support

---

## Relaciones

- Complementa: [[Proyecto OnlyCarNLD/Datos/2.8.3 WAF_Configuration|Reglas WAF]]
- Monitorea: [[Proyecto OnlyCarNLD/Datos/2.11.5 Alerting_Strategy|Sistema de Alertas]]
- Documenta: [[Proyecto OnlyCarNLD/Datos/2.19.2 Restore_Procedures|Procedimientos de Emergencia]]

---

## Navegaci√≥n

| ‚¨ÜÔ∏è Padre             | [[Proyecto OnlyCarNLD/Datos/2.8. Seguridad_Infraestructura]] |
| -------------------- | ---------------------------------- |
| ‚¨ÖÔ∏è Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/2.8.4 Secret_Management]]        |
| ‚û°Ô∏è Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.8.6 Security_Headers]]         |

---
