---
id: 2.1.1
title: Nuxt Configuration
parent: '2.1'
breadcrumb: 0 → 2.0 → 2.1 → 2.1.1
type: especificacion
domain:
- nuxt-config
- typescript
- vite
- hydration
status: activo
last_updated: 2026-01-29 15:31
file_create: 2026-01-05 03:15
summary: 'Análisis profundo de la configuración de Nuxt 4.

  Estrategias de hidratación, optimización de módulos y tuning de Vite.'
content_hash: c3aa25e963af78a8
---

# 2.1.1 Nuxt Configuration

> El corazón que orquesta el framework.

---

## Estrategia de Hidratación

En una app híbrida (Mobile + Web), la hidratación es costosa. Configuramos Nuxt para ser inteligente:

```ts
// nuxt.config.ts
export default defineNuxtConfig({
  experimental: {
    payloadExtraction: true, // Reduce JS inicial
    renderJsonPayloads: true,
    componentIslands: true // Server Components
  },
  
  // Hidratación parcial para islas interactivas
  routeRules: {
    '/': { prerender: true }, // Landing estática
    '/app/**': { ssr: false } // SPA para la app logueada (Capacitor friendly)
  }
})
```

Al desactivar SSR en `/app/**`, evitamos problemas de hidratación con plugins nativos de Capacitor que esperan `window` definido.

---

## Optimización de Módulos

El orden y configuración de módulos impacta el arranque (Cold Start):

1.  **@nuxtjs/tailwindcss:** Configurado con Viewer desactivado en prod.
2.  **@pinia/nuxt:** Auto-imports habilitados para DX.
3.  **@vueuse/nuxt:** Tree-shaking activado automáticamente.

---

## Tuning de Vite

Para desarrollo rápido (HMR) y builds ligeros:

```ts
vite: {
  build: {
    cssCodeSplit: true, // Split CSS por ruta
    chunkSizeWarningLimit: 1000 // Aumentar límite para chunks grandes de vendors
  },
  server: {
    hmr: {
      protocol: 'ws' // WebSocket forzado para evitar polling
    }
  }
}
```

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.1. FullStack]]              |
| -------------------- | ------------------------------- |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.1.2 Capacitor_Bridge]]      |

---
