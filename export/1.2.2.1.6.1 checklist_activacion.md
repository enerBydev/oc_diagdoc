---
id: 1.2.2.1.6.1
title: Checklist de ActivaciÃ³n
parent: 1.2.2.1.6
breadcrumb: 0 â†’ 1.0 â†’ 1.2 â†’ 1.2.2 â†’ 1.2.2.1 â†’ 1.2.2.1.6 â†’ 1.2.2.1.6.1
type: hoja
status: activo
last_updated: 2026-01-29 15:32
file_create: 2025-12-27 00:31
domain:
- operador
- activacion
- checklist
- validacion
summary: 'Lista de 8 requisitos obligatorios antes de activar.

  Docs, antecedentes, cuestionario, capacitaciÃ³n, ciudad, herramientas, foto, banco.

  '
content_hash: 8cf49035cbaf2a93
---

# 1.2.2.1.6.1 Checklist de ActivaciÃ³n

> Lista completa de requisitos antes de activar.

---

## Checklist Obligatorio

| # | Requisito | ValidaciÃ³n |
|---|-----------|------------|
| 1 | âœ… Documentos aprobados | estado = 'documentos_aprobados' |
| 2 | âœ… Antecedentes verificados | declaraciÃ³n aceptada |
| 3 | âœ… Cuestionario aprobado | score â‰¥ 60% |
| 4 | âœ… CapacitaciÃ³n completada | 4 mÃ³dulos + quiz |
| 5 | âœ… Ciudad asignada | ciudad_id NOT NULL |
| 6 | âœ… Al menos 1 herramienta | herramientas.count > 0 |
| 7 | âœ… Foto de perfil | avatar_url NOT NULL |
| 8 | âœ… Datos bancarios | cuenta_bancaria NOT NULL |

---

## UI: Checklist

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… CHECKLIST DE ACTIVACIÃ“N                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Completa todo para poder empezar a recibir servicios:          â”‚
â”‚                                                                 â”‚
â”‚  âœ… Documentos verificados                                      â”‚
â”‚  âœ… Antecedentes verificados                                    â”‚
â”‚  âœ… EvaluaciÃ³n aprobada                                         â”‚
â”‚  âœ… CapacitaciÃ³n completada                                     â”‚
â”‚                                                                 â”‚
â”‚  â¬œ Ciudad asignada                        [ Configurar â†’ ]     â”‚
â”‚  â¬œ Herramientas registradas               [ Agregar â†’ ]        â”‚
â”‚  â¬œ Foto de perfil                          [ Subir â†’ ]         â”‚
â”‚  â¬œ Datos bancarios                        [ Agregar â†’ ]        â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚  Completa los 4 items pendientes para activar tu cuenta.        â”‚
â”‚                                                                 â”‚
â”‚  [ ACTIVAR CUENTA ] â† Deshabilitado                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LÃ³gica de VerificaciÃ³n

```typescript
const verificarChecklist = async (solicitudId: string): Promise<ChecklistResult> => {
  const supabase = useSupabaseClient();
  
  const { data: solicitud } = await supabase
    .from('operador_solicitudes')
    .select(`
      *,
      capacitacion_progreso (*),
      operador_declaraciones (*),
      cuestionario_respuestas (*)
    `)
    .eq('id', solicitudId)
    .single();
  
  const checklist = {
    documentos: solicitud.estado === 'documentos_aprobados' || 
                solicitud.estado === 'capacitacion_aprobada',
    antecedentes: solicitud.operador_declaraciones?.some(d => d.aceptado),
    cuestionario: solicitud.cuestionario_respuestas?.score_total >= 60,
    capacitacion: solicitud.capacitacion_progreso?.quiz_aprobado,
    ciudad: !!solicitud.ciudad_id,
    herramientas: await tieneHerramientas(solicitudId),
    foto: !!solicitud.avatar_url,
    banco: !!solicitud.cuenta_bancaria
  };
  
  const items = Object.values(checklist);
  const completados = items.filter(Boolean).length;
  const total = items.length;
  
  return {
    checklist,
    completados,
    total,
    listo: completados === total
  };
};
```

---

## ActivaciÃ³n Final

```typescript
const activarOperador = async (solicitudId: string) => {
  const checklist = await verificarChecklist(solicitudId);
  
  if (!checklist.listo) {
    throw new Error('Checklist incompleto');
  }
  
  // 1. Cambiar estado de solicitud
  await supabase
    .from('operador_solicitudes')
    .update({ estado: 'activo' })
    .eq('id', solicitudId);
  
  // 2. Crear registro en tabla operadores
  const { data: solicitud } = await supabase
    .from('operador_solicitudes')
    .select('*')
    .eq('id', solicitudId)
    .single();
  
  await supabase.from('operadores').insert({
    user_id: solicitud.user_id,
    nombre: `${solicitud.nombre} ${solicitud.apellidos}`,
    telefono: solicitud.telefono,
    ciudad_id: solicitud.ciudad_id,
    estado_registro: 'activo',
    consolidado: false,
    servicios_completados: 0
  });
  
  // 3. Notificar
  await notifyOperador(solicitudId, {
    title: 'ğŸ‰ Â¡Cuenta activada!',
    body: 'Ya puedes empezar a recibir solicitudes de servicio.'
  });
  
  return { success: true };
};
```

---

## NavegaciÃ³n

| â¬†ï¸ Padre             | [[Proyecto OnlyCarNLD/Datos/1.2.2.1.6 activacion_operador]] |
| -------------------- | --------------------------------- |
| â¡ï¸ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/1.2.2.1.6.2 primer_servicio]]   |

---
