---
id: 2.5.2.1
title: Pinia Stores
parent: 2.5.2
breadcrumb: 0 → 2.0 → 2.5 → 2.5.2 → 2.5.2.1
type: especificacion
domain:
- pinia
- state
- store
- setup-stores
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-05 03:20
summary: 'Implementación de Stores con Pinia.

  Preferencia por Setup Stores (Composition API).'
content_hash: 5582830c3378a84f
---

# 2.5.2.1 Pinia Stores

> Estado global reactivo y type-safe.

---

## Setup Stores Pattern

Preferimos la sintaxis de **Setup Stores** sobre Options Stores por consistencia con Vue 3 Composition API.

```ts
// stores/user.ts
export const useUserStore = defineStore('user', () => {
  // State
  const user = ref<User | null>(null)
  
  // Getters
  const isLoggedIn = computed(() => !!user.value)
  const userRole = computed(() => user.value?.role)

  // Actions
  async function fetchProfile() {
    // ... logic
  }

  return { user, isLoggedIn, userRole, fetchProfile }
})
```

---

## Modularidad

Separamos stores por dominio:

*   `useAuthStore`: Tokens, Login, Logout.
*   `useServiceStore`: Estado del servicio actual (activo), lista de servicios.
*   `useUIStore`: Estado de modales, alertas, sidebar (UI global).

Nunca crear un "God Store" (`useAppStore`) que tenga todo. Desacoplar.

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.5.2 Gestion_Estado]]      |
| -------------------- | ----------------------------- |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.5.2.2 State_Persistence]] |

---
