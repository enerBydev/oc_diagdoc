---
id: 2.15.1
title: Procesamiento Imágenes
parent: '2.15'
breadcrumb: 0 → 2.0 → 2.15 → 2.15.1
type: especificacion
domain:
- images
- sharp
- webp
- compression
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-05 03:00
summary: 'Transformación de imágenes on-the-fly.

  Uso de Nuxt Image para frontend y Sharp para backend.'
content_hash: 2bcc238729a1e718
---

# 2.15.1 Procesamiento Imágenes

> Nunca servir imágenes más grandes que el contenedor que las muestra.

---

## Frontend: Nuxt Image

Utilizamos el módulo `@nuxt/image` para generación automática de `srcset` y formatos modernos.

```vue
<NuxtImg
  src="/evidence/car-front.jpg"
  width="500"
  format="webp"
  loading="lazy"
/>
```

Esto solicita automáticamente una versión optimizada al servidor.

---

## Backend: Sharp (Nitro)

Para uploads, usamos la librería `sharp` dentro de un event handler de Nitro para procesar antes de guardar.

1.  Recibir `FormData` (Multipart).
2.  Convertir a `Buffer`.
3.  `sharp(buffer).resize(1920).webp({ quality: 80 })`.
4.  Subir buffer optimizado a Storage.

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.15. Arquitectura_Media]]    |
| -------------------- | ------------------------------- |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.15.2 Almacenamiento_CDN]]   |

---
