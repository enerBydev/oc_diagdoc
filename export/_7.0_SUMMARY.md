# SUMMARY: 7.0 Arquitectura

##  RADIOGRAFA MOLECULAR DEL MDULO 7.0

> **An谩lisis forense algor铆tmico:** 2026-01-28 01:36
> **Herramientas:** `tree_viewer.py`, `dependency_mapper.py`, `project_stats.py`

### Esencia Nuclear

**La ESTRUCTURA del c贸digo OnlyCar.** Este m贸dulo define los patrones de arquitectura empresarial que rigen el desarrollo: Arquitectura Hexagonal (Ports & Adapters) para desacoplar el n煤cleo del negocio, Clean Architecture + DDD para capas de cebolla y modelado del dominio, Atomic Design System para componentes UI escalables, Repository y Strategy Patterns, TDD con pir谩mide de tests, Git Flow para control de versiones, y Docs-as-Code para documentaci贸n versionada.

**Principios rectores:** Clean Code, SOLID, Separation of Concerns, Dependency Inversion.

### M茅tricas At贸micas

| M茅trica | Valor |
|---------|-------|
| Archivos totales | 30 |
| Hijos directos | 7 |
| Descendientes | 29 |
| Profundidad m谩xima | 3 niveles |
| % del proyecto | 4% |

### rbol Jer谩rquico (Nivel 1)

```
7.0 Arquitectura de Software (30 archivos)
 7.1 Hexagonal Architecture  Ports Inbound/Outbound, Adapters Primary/Secondary
 7.2 Clean Architecture + DDD  Domain, Application, Infrastructure, Bounded Contexts
 7.3 Atomic Design System  Tokens, Atoms, Molecules, Organisms
 7.4 Patrones Repository/Strategy  Abstracci贸n de persistencia, algoritmos intercambiables
 7.5 TDD Testing Strategy  Unit (Vitest), Integration, E2E (Playwright)
 7.6 Git Flow DevOps  Branch strategy, Conventional Commits, CI/CD Pipeline
 7.7 Docs-as-Code  Design-Time (OpenAPI, Storybook), Runtime (Swagger, Health)
```

### Mapa de Dependencias

- **Depende de:** [[Proyecto OnlyCarNLD/Datos/4.6 API_Specification]], [[Proyecto OnlyCarNLD/Datos/2.0. tecnologia]]
- **Es usado por:** [[Proyecto OnlyCarNLD/Datos/2.18. Testing_Infrastructure]], [[Proyecto OnlyCarNLD/Datos/6.0. UI-UX]], [[Proyecto OnlyCarNLD/Datos/3.0. datos_y_logica]]
- **Archivos cr铆ticos:** [[Proyecto OnlyCarNLD/Datos/7.1 Hexagonal_Architecture]], [[Proyecto OnlyCarNLD/Datos/7.2 Clean_Architecture_DDD]], [[Proyecto OnlyCarNLD/Datos/7.5 TDD_Testing_Strategy]]

### Conceptos Nucleares

1. **Hexagonal:** N煤cleo de negocio aislado, comunicaci贸n solo por puertos definidos
2. **Clean Architecture:** Dependencias apuntan hacia adentro, dominio en el centro
3. **DDD:** Bounded Contexts para Agendamiento, Pagos, Comunicaci贸n
4. **TDD:** Red-Green-Refactor, pir谩mide 70% unit, 20% integration, 10% E2E
5. **Conventional Commits:** Formato est谩ndar para changelog autom谩tico

---

> Resumen ejecutivo del m贸dulo 7.0 para contexto r谩pido de IA.

---

## Estad铆sticas (DATOS VIVOS)

| M茅trica | Valor |
|---------|-------|
| Total archivos | 30 |
| Estados | 30 activo (100%) |
| Profundidad m谩xima | 3 niveles (ej: 7.1.1) |
| Porcentaje del proyecto | ~4% |

---

## Prop贸sito del M贸dulo

Define la **ARQUITECTURA EMPRESARIAL** del sistema OnlyCar: patrones de dise帽o, estructuras de c贸digo, estrategias de testing y pr谩cticas DevOps.

**Principios:** Clean Code, SOLID, Separaci贸n de Concerns, Dependency Inversion.

---

## Estructura Jer谩rquica por Capas

### 7.1 Arquitectura Hexagonal (4 hijos)

Ports & Adapters para desacoplar el n煤cleo del negocio.

| Subm贸dulo | Descripci贸n |
|-----------|-------------|
| 7.1.1 Ports Inbound | Casos de uso expuestos |
| 7.1.2 Ports Outbound | Interfaces de infraestructura |
| 7.1.3 Adapters Primary | Controllers, APIs |
| 7.1.4 Adapters Secondary | Repositories, Gateways |

### 7.2 Clean Architecture + DDD (4 hijos)

Capas de cebolla y modelado del dominio.

| Subm贸dulo | Descripci贸n |
|-----------|-------------|
| 7.2.1 Domain Layer | Entities, Value Objects |
| 7.2.2 Application Layer | Use Cases, DTOs |
| 7.2.3 Infrastructure Layer | Adapters, Config |
| 7.2.4 Bounded Contexts | Agendamiento, Pagos, etc. |

### 7.3 Atomic Design System (4 hijos)

Sistema de componentes UI escalable.

| Subm贸dulo | Descripci贸n |
|-----------|-------------|
| 7.3.1 Design Tokens | CSS Variables, colores |
| 7.3.2 Atoms | Botones, inputs, iconos |
| 7.3.3 Molecules | FormField, SearchBar |
| 7.3.4 Organisms | CitaCard, PaymentForm |

### 7.4 Patterns (2 hijos)

Patrones de dise帽o fundamentales.

| Subm贸dulo | Descripci贸n |
|-----------|-------------|
| 7.4.1 Repository Pattern | Abstracci贸n de persistencia |
| 7.4.2 Strategy Pattern | Algoritmos intercambiables |

### 7.5 TDD Testing Strategy (3 hijos)

Test-Driven Development y pir谩mide de tests.

| Subm贸dulo | Descripci贸n |
|-----------|-------------|
| 7.5.1 Unit Tests | Vitest, funciones |
| 7.5.2 Integration Tests | API, Database |
| 7.5.3 E2E Tests | Playwright, flujos |

### 7.6 Git Flow DevOps (3 hijos)

Control de versiones y CI/CD.

| Subm贸dulo | Descripci贸n |
|-----------|-------------|
| 7.6.1 Branch Strategy | Git Flow, ramas |
| 7.6.2 Conventional Commits | Formato de commits |
| 7.6.3 CI/CD Pipeline | GitHub Actions |

### 7.7 Docs-as-Code (2 hijos)

Documentaci贸n versionada.

| Subm贸dulo | Descripci贸n |
|-----------|-------------|
| 7.7.1 Design-Time Docs | OpenAPI, Storybook |
| 7.7.2 Runtime Docs | Swagger UI, Health |

---

## Archivos Cr铆ticos

| # | Archivo | Descripci贸n |
|---|---------|-------------|
| 1 | [[Proyecto OnlyCarNLD/Datos/7.0. arquitectura]] | Visi贸n general de arquitectura |
| 2 | [[Proyecto OnlyCarNLD/Datos/7.1 Hexagonal_Architecture]] | Puertos y adaptadores |
| 3 | [[Proyecto OnlyCarNLD/Datos/7.2 Clean_Architecture_DDD]] | Clean + DDD |
| 4 | [[Proyecto OnlyCarNLD/Datos/7.3 Atomic_Design_System]] | Design System |
| 5 | [[Proyecto OnlyCarNLD/Datos/7.5 TDD_Testing_Strategy]] | Estrategia de testing |

---

## Tecnolog铆as Clave

| Tecnolog铆a | Rol |
|------------|-----|
| **TypeScript** | Tipado fuerte |
| **tsyringe** | Inyecci贸n de dependencias |
| **Vitest** | Unit/Integration tests |
| **Playwright** | E2E tests |
| **Storybook** | Component docs |
| **OpenAPI** | API specification |

---

## Dependencias con Otros M贸dulos

### Depende de:

| M贸dulo | Raz贸n |
|--------|-------|
| [[Proyecto OnlyCarNLD/Datos/2.0. tecnologia]] | Stack tecnol贸gico a implementar |
| [[Proyecto OnlyCarNLD/Datos/4.6 API_Specification]] | Contratos de API |

### Es usado por:

| M贸dulo | Raz贸n |
|--------|-------|
| [[Proyecto OnlyCarNLD/Datos/6.0. UI-UX]] | Atomic Design aplicado |
| [[Proyecto OnlyCarNLD/Datos/2.18. Testing_Infrastructure]] | Framework de testing |

---

ACTUALIZACIN
ltima revisi贸n: 2026-01-23
Basado en: 30 archivos de documentaci贸n
Versi贸n: 1.0 (Nueva creaci贸n)
