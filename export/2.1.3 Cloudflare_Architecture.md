---
id: 2.1.3
title: Cloudflare Architecture
parent: '2.1'
breadcrumb: 0 → 2.0 → 2.1 → 2.1.3
type: especificacion
domain:
- cloudflare
- edge
- workers
- kv
- d1
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-05 03:15
summary: 'Infraestructura Serverless en el Edge.

  Diferencias entre Pages Functions, Workers, KV y D1.'
content_hash: fe43364fa8f5093c
---

# 2.1.3 Cloudflare Architecture

> Ejecución de código a 50ms de cualquier usuario en el mundo.

---

## El Modelo V8 Isolate

A diferencia de AWS Lambda (que levanta contenedores Docker/node), Cloudflare Workers usa **V8 Isolates**.
*   **Startup:** 0ms (Cold start inexistente).
*   **Overhead:** Mínimo memoria.
*   **Limitación:** No se pueden usar módulos nativos de Node (C++, `fs`), solo APIs Web Standard (`fetch`, `Request`).

---

## Ecosistema de Datos

Nuestra arquitectura distribuye datos según su naturaleza:

1.  **Workers KV (Key-Value):**
    *   *Uso:* Configuración global, Feature Flags, Sesiones rápidas.
    *   *Consistencia:* Eventual (rápido lectura, lento propagación escritura).

2.  **D1 (SQLite at Edge):**
    *   *Uso:* Base de datos relacional ligera para datos de *Edge* (ej. caché de rutas).
    *   *Nota:* Actualmente usamos Supabase como DB principal, D1 es auxiliar.

3.  **R2 (Object Storage):**
    *   *Uso:* Imágenes, PDFs generados.
    *   *Ventaja:* API S3-compatible, sin costo de salida.

---

## Pages Integration

Nuxt se despliega en **Cloudflare Pages**, pero ejecuta su servidor (Nitro) como **Pages Functions** (que son Workers bajo el capó). Esto unifica el hosting de assets estáticos (CDN) con la lógica dinámica.

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.1. FullStack]]              |
| -------------------- | ------------------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/2.1.2 Capacitor_Bridge]]      |

---
