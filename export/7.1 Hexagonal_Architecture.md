---
id: '7.1'
title: Arquitectura Hexagonal
parent: '7.0'
breadcrumb: 0 â†’ 7.0 â†’ 7.1
type: modulo_padre
children_count: 4
descendants_count: 4
domain:
- hexagonal
- ports
- adapters
- desacoplamiento
actors:
- desarrollador
- arquitecto
status: activo
last_updated: 2026-01-29 15:31
file_create: 2026-01-21 12:36
summary: 'ImplementaciÃ³n de Ports & Adapters pattern para OnlyCar. Desacopla el nÃºcleo
  de negocio de la infraestructura externa.

  '
content_hash: 2d794f17eb0b799a
---

# 7.1 Arquitectura Hexagonal (Ports & Adapters)

> El corazÃ³n del sistema estÃ¡ protegido del mundo exterior mediante
> interfaces (puertos) e implementaciones (adaptadores).

---

## Concepto Nuclear

```mermaid
flowchart TD
    subgraph EXTERIOR["ğŸŒ MUNDO EXTERIOR"]
        UI[UI/PWA/Apps]
        API[API REST]
        DB[(Supabase)]
        STRIPE[Stripe]
        GEO[GPS/Maps]
    end
    
    subgraph ADAPTERS["ğŸ”Œ ADAPTADORES"]
        NuxtAdapter[Nuxt Adapter]
        SupabaseAdapter[Supabase Adapter]
        StripeAdapter[Stripe Adapter]
        GeoAdapter[Geo Adapter]
    end
    
    subgraph HEXAGON["â¬¡ HEXÃGONO (DOMINIO)"]
        subgraph PORTS["ğŸ“¡ PUERTOS"]
            CitaPort[ICitaRepository]
            PagoPort[IPagoGateway]
            UbiPort[IUbicacionService]
        end
        subgraph CORE["ğŸ§  NÃšCLEO"]
            CitaService[CitaService]
            PagoService[PagoService]
            OperadorService[OperadorService]
        end
    end
    
    UI --> NuxtAdapter
    NuxtAdapter --> CitaPort
    SupabaseAdapter --> CitaPort
    StripeAdapter --> PagoPort
```

---

## Regla de Oro

> **El dominio NUNCA conoce la infraestructura.**
> La infraestructura implementa las interfaces del dominio.

---

## Estructura de Carpetas OnlyCar

```
src/
â”œâ”€â”€ domain/                    # ğŸ§  NÃšCLEO PURO
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”œâ”€â”€ Cita.ts
â”‚   â”‚   â”œâ”€â”€ Servicio.ts
â”‚   â”‚   â””â”€â”€ Operador.ts
â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”œâ”€â”€ Ubicacion.ts
â”‚   â”‚   â””â”€â”€ Precio.ts
â”‚   â”œâ”€â”€ ports/
â”‚   â”‚   â”œâ”€â”€ inbound/
â”‚   â”‚   â”‚   â””â”€â”€ IAgendarCita.ts
â”‚   â”‚   â””â”€â”€ outbound/
â”‚   â”‚       â””â”€â”€ ICitaRepository.ts
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ CitaPricingService.ts
â”‚
â”œâ”€â”€ infrastructure/            # ğŸ”Œ ADAPTADORES
â”‚   â””â”€â”€ adapters/
â”‚       â”œâ”€â”€ persistence/
â”‚       â”‚   â””â”€â”€ SupabaseCitaRepository.ts
â”‚       â”œâ”€â”€ payment/
â”‚       â”‚   â””â”€â”€ StripePaymentGateway.ts
â”‚       â””â”€â”€ geolocation/
â”‚           â””â”€â”€ CapacitorGeoService.ts
```

---

## Estructura de Hijos

| ID | Nombre | DescripciÃ³n | Estado |
|----|--------|-------------|--------|
| [[Proyecto OnlyCarNLD/Datos/7.1.1 Ports_Inbound\|7.1.1]] | Puertos Inbound | Casos de uso expuestos | âœ… |
| [[Proyecto OnlyCarNLD/Datos/7.1.2 Ports_Outbound\|7.1.2]] | Puertos Outbound | Interfaces de infraestructura | âœ… |
| [[Proyecto OnlyCarNLD/Datos/7.1.3 Adapters_Primary\|7.1.3]] | Adaptadores Primarios | Controllers, APIs | âœ… |
| [[Proyecto OnlyCarNLD/Datos/7.1.4 Adapters_Secondary\|7.1.4]] | Adaptadores Secundarios | Repositories, Gateways | âœ… |

---

## NavegaciÃ³n

| â¬†ï¸ Padre | [[Proyecto OnlyCarNLD/Datos/7.0. arquitectura]] |
|----------|----------------------|
| â¡ï¸ Siguiente | [[Proyecto OnlyCarNLD/Datos/7.2 Clean_Architecture_DDD]] |

---
