---
id: 2.15.2
title: Almacenamiento CDN
parent: '2.15'
breadcrumb: 0 → 2.0 → 2.15 → 2.15.2
type: especificacion
domain:
- storage
- r2
- s3
- cdn
- cloudflare
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-05 03:00
summary: 'Infraestructura de almacenamiento "Egress-Free" usando Cloudflare R2.

  Políticas de caché y seguridad de acceso.'
content_hash: f4a8bb71039e0877
---

# 2.15.2 Almacenamiento CDN

> Cero costos de salida (egress fees) para servir terabytes de evidencia visual.

---

## Cloudflare R2

Elegimos R2 sobre AWS S3 por la eliminación de costos de ancho de banda. Compatible con API S3.

### Estructura de Buckets

*   `onlycar-public`: Assets del sitio, blog, marketing (CDN cache agresivo 1 año).
*   `onlycar-private`: Documentos de identidad (Veriff), Contratos (Acceso vía Signed URLs).
*   `onlycar-evidence`: Fotos de servicio (Público ofuscado UUIDs).

---

## Políticas de Caché

En los headers de respuesta de imágenes públicas:

```http
Cache-Control: public, max-age=31536000, immutable
```

Esto permite que el navegador y los nodos Edge de Cloudflare guarden la imagen "para siempre", reduciendo peticiones al origen.

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.15. Arquitectura_Media]]    |
| -------------------- | ------------------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/2.15.1 Procesamiento_Imagenes]] |

---
