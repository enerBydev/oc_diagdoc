---
id: 1.3.3.1
title: CARDs del Operador
parent: 1.3.3
breadcrumb: 0 ‚Üí 1.0 ‚Üí 1.3 ‚Üí 1.3.3 ‚Üí 1.3.3.1
type: hoja
status: activo
domain: comunicacion
summary: Especificaci√≥n de CARDs para el canal Operador-Cliente con documentaci√≥n,
  ubicaci√≥n y servicio completado.
version: 1.0
last_updated: 2026-01-29 15:32
file_create: 2025-12-23 23:53
actors:
- operador
- sistema
dependencies:
- cloudflare_r2
affects:
- 1.3.3 chat_operador_cliente
content_hash: 88c0cc9a61c1b9f0
---

# 1.3.3.1 CARDs del Operador

Especificaci√≥n de CARDs para el canal Operador-Cliente.

---

## Tipos de CARD

| Tipo | Trigger | Contenido |
|------|---------|-----------|
| `documentacion_servicio` | Subida fotos | Antes/despu√©s |
| `ubicacion_operador` | Compartir GPS | Mapa + ETA |
| `servicio_completado` | Finalizar | Resumen + pago |
| `solicitud_calificacion` | Post-servicio | Rating |

---

## CARD: Documentaci√≥n

```typescript
interface DocumentacionCard {
  tipo: 'documentacion_servicio';
  data: {
    servicio_id: string;
    paquete: string;
    operador: { nombre: string; foto_url: string };
    fotos_antes: string[];
    fotos_despues: string[];
    hora_inicio: string;
    hora_fin: string;
    comentario?: string;
  };
  acciones: ['ver_detalles', 'reportar_problema'];
}
```

### Renderizado

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üöó LAVADO EXPRESS - DOCUMENTACI√ìN                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                     ‚îÇ
‚îÇ  ‚îÇ ANTES ‚îÇ ‚îÇ ANTES ‚îÇ    ‚îÇDESPU√âS‚îÇ ‚îÇDESPU√âS‚îÇ                     ‚îÇ
‚îÇ  ‚îÇ  üì∑   ‚îÇ ‚îÇ  üì∑   ‚îÇ    ‚îÇ  üì∑   ‚îÇ ‚îÇ  üì∑   ‚îÇ                     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                     ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  Operador: Carlos M.                                            ‚îÇ
‚îÇ  Hora: 14:30 - 15:15                                            ‚îÇ
‚îÇ  Comentario: "Atenci√≥n especial en rines solicitada"            ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                       ‚îÇ
‚îÇ  ‚îÇ Ver detalles    ‚îÇ  ‚îÇ Reportar        ‚îÇ                       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                       ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## CARD: Ubicaci√≥n

```typescript
interface UbicacionCard {
  tipo: 'ubicacion_operador';
  data: {
    operador_nombre: string;
    lat: number;
    lng: number;
    eta_minutos: number;
    distancia_km: number;
    actualizado_hace_segundos: number;
  };
  live: true; // Actualizaci√≥n en tiempo real
}
```

---

## CARD: Servicio Completado

```typescript
interface ServicioCompletadoCard {
  tipo: 'servicio_completado';
  data: {
    servicio: string;
    duracion_minutos: number;
    total_mxn: number;
    metodo_pago: 'efectivo' | 'tarjeta' | 'stripe';
    stripe_url?: string;
    fotos_resumen: string[];
  };
  acciones: ['ver_fotos', 'pagar', 'autofactura'];
}
```

---

## Generaci√≥n Autom√°tica

```typescript
// Trigger: Operador sube fotos
const crearCardDocumentacion = async (servicioId: string) => {
  const servicio = await getServicio(servicioId);
  const fotos = await getFotosServicio(servicioId);
  
  const card: DocumentacionCard = {
    tipo: 'documentacion_servicio',
    data: {
      servicio_id: servicioId,
      paquete: servicio.paquete_nombre,
      operador: servicio.operador,
      fotos_antes: fotos.filter(f => f.tipo === 'antes').map(f => f.url),
      fotos_despues: fotos.filter(f => f.tipo === 'despues').map(f => f.url),
      hora_inicio: servicio.hora_inicio,
      hora_fin: servicio.hora_fin
    },
    acciones: ['ver_detalles', 'reportar_problema']
  };
  
  await enviarCardACliente(servicio.cliente_id, card);
};
```

---

## Navegaci√≥n

| ‚¨ÜÔ∏è Padre             | [[Proyecto OnlyCarNLD/Datos/1.3.3 chat_operador_cliente]]        |
| -------------------- | -------------------------------------- |
| ‚û°Ô∏è Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/1.3.3.2 documentacion_fotografica]]  |

---
