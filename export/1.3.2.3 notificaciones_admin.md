---
id: 1.3.2.3
title: Notificaciones Admin-Cliente
parent: 1.3.2
breadcrumb: 0 → 1.0 → 1.3 → 1.3.2 → 1.3.2.3
type: hoja
status: activo
domain: comunicacion
summary: Sistema de notificaciones del canal Admin-Cliente con templates JSON para
  propuestas, contratos y renovaciones.
version: 1.0
last_updated: 2026-01-29 15:32
file_create: 2025-12-23 23:53
actors:
- sistema
dependencies:
- 1.3.5 notificaciones
affects:
- 1.3.2 chat_admin_cliente
content_hash: f93169e6a2bbc420
---

# 1.3.2.3 Notificaciones Admin-Cliente

Sistema de notificaciones del canal.

---

## Canales de Notificación

| Canal | Uso | Prioridad |
|-------|-----|-----------|
| **In-App** | Siempre | Alta |
| **Push** | Si app instalada | Alta |
| **Email** | Contratos, propuestas | Media |
| **SMS** | Urgente (opcional) | Crítica |

---

## Templates

### Propuesta Enviada

```json
{
  "tipo": "propuesta_enviada",
  "canal": ["in_app", "email"],
  "titulo": "Nueva propuesta comercial",
  "mensaje": "OnlyCar te ha enviado una propuesta para {vehiculos} vehículos.",
  "cta": "Ver Propuesta",
  "cta_url": "/chat/{conversacion_id}"
}
```

### Contrato Listo

```json
{
  "tipo": "contrato_listo",
  "canal": ["in_app", "email", "push"],
  "titulo": "Contrato listo para firma",
  "mensaje": "Tu contrato con OnlyCar está listo. Firma digitalmente.",
  "cta": "Firmar Ahora",
  "cta_url": "{mifiel_url}"
}
```

### Recordatorio Firma

```json
{
  "tipo": "recordatorio_firma",
  "canal": ["email"],
  "titulo": "Recordatorio: Contrato pendiente",
  "mensaje": "Tu contrato vence en {dias} días. Firma para no perder beneficios.",
  "cta": "Firmar Ahora"
}
```

### Contrato Renovación

```json
{
  "tipo": "renovacion_proxima",
  "canal": ["in_app", "email"],
  "titulo": "Tu contrato vence pronto",
  "mensaje": "Tu contrato vence el {fecha}. ¿Deseas renovar?",
  "cta": "Ver Opciones"
}
```

---

## Preferencias

```sql
CREATE TABLE preferencias_notificacion (
  user_id UUID REFERENCES users(id),
  canal VARCHAR(20),
  tipo_notificacion VARCHAR(50),
  habilitado BOOLEAN DEFAULT true,
  PRIMARY KEY (user_id, canal, tipo_notificacion)
);
```

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/1.3.2 chat_admin_cliente]]        |
| -------------------- | ----------------------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/1.3.2.2 flujos_negociacion]]      |

---
