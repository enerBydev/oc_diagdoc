---
id: 1.4.6
title: Integraci√≥n con Reviews Externos
parent: '1.4'
breadcrumb: 0 ‚Üí 1.0 ‚Üí 1.4 ‚Üí 1.4.6
type: feature
status: futuro
last_updated: 2026-01-29 15:32
file_create: 2026-01-10 01:12
domain:
- reviews
- google
- app_store
- seo
actors:
- cliente_b2c
- cliente_b2b
summary: Integraci√≥n con plataformas externas de reviews (Google, App Store). Solicitud
  post-calificaci√≥n, deep links, tracking. ROADMAP FUTURO.
content_hash: 497e278b3da58f3f
---

# 1.4.6 Integraci√≥n con Reviews Externos

> üîÆ **M√ìDULO FUTURO**: Integraci√≥n con Google Reviews y tiendas de apps.

---

## Prop√≥sito

| Objetivo | Beneficio |
|----------|-----------|
| **SEO** | Mejorar posicionamiento en Google Maps |
| **Credibilidad** | Reviews visibles p√∫blicamente |
| **Descubrimiento** | Mejor ranking en App Store/Play Store |

---

## Flujo Propuesto

```mermaid
sequenceDiagram
    participant C as Cliente
    participant A as App
    participant G as Google/Store
    
    C->>A: Califica 5‚≠ê
    A->>A: Muestra agradecimiento
    A->>C: "¬øNos dejas una rese√±a?"
    
    alt Acepta
        C->>A: Tap "S√≠, con gusto"
        A->>G: Deep link a reviews
        C->>G: Escribe rese√±a
    else Rechaza
        C->>A: "Quiz√°s despu√©s"
        A->>A: No volver a preguntar (30 d√≠as)
    end
```

---

## UI Propuesta

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚úÖ ¬°GRACIAS POR TU CALIFICACI√ìN!                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ  Tu opini√≥n nos ayuda a mejorar ‚ù§Ô∏è                              ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ              ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ¬øTe gustar√≠a compartir tu experiencia en Google?               ‚îÇ
‚îÇ  Ayudar√≠as a otros a descubrir OnlyCar.                      ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  [Google logo]  Dejar rese√±a en Google                  ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  [App Store logo]  Calificar en App Store               ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  [ Quiz√°s despu√©s ]                                             ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Deep Links

### Google Reviews

```typescript
const googleReviewUrl = (placeId: string) => 
  `https://search.google.com/local/writereview?placeid=${placeId}`;

// placeId de OnlyCar en Google Maps
const PLACE_ID = 'ChIJ...'; // TODO: Obtener al crear perfil business
```

### App Store (iOS)

```typescript
const appStoreReviewUrl = (appId: string) =>
  `https://apps.apple.com/app/id${appId}?action=write-review`;

// o usar SKStoreReviewController para in-app
import { SKStoreReviewController } from '@capacitor/app-review';

await SKStoreReviewController.requestReview();
```

### Play Store (Android)

```typescript
const playStoreReviewUrl = (packageName: string) =>
  `https://play.google.com/store/apps/details?id=${packageName}`;

// o usar in-app review API
import { InAppReview } from '@capacitor/in-app-review';

await InAppReview.requestReview();
```

---

## Estrategia de Solicitud

### Cu√°ndo Pedir

| Condici√≥n | Acci√≥n |
|-----------|--------|
| Primera calificaci√≥n 5‚≠ê | Pedir review |
| 3ra calificaci√≥n 5‚≠ê consecutiva | Pedir con √©nfasis |
| Ya dej√≥ review externo | No pedir |
| Rechaz√≥ en √∫ltimos 30 d√≠as | No pedir |

### Cu√°ndo NO Pedir

| Condici√≥n | Raz√≥n |
|-----------|-------|
| Calificaci√≥n ‚â§4‚≠ê | Riesgo de review negativo |
| Usuario nuevo (< 3 servicios) | Muestra insuficiente |
| Ya calific√≥ este mes | Evitar spam |

---

## Tracking

```sql
CREATE TABLE review_requests (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  cliente_id UUID REFERENCES users(id),
  
  plataforma VARCHAR(30), -- 'google', 'app_store', 'play_store'
  
  -- Interacci√≥n
  mostrado_at TIMESTAMPTZ DEFAULT now(),
  respuesta VARCHAR(20), -- 'aceptado', 'rechazado', 'ignorado'
  respondido_at TIMESTAMPTZ,
  
  -- Tracking (si es posible)
  review_confirmado BOOLEAN DEFAULT false,
  
  calificacion_id UUID REFERENCES calificaciones(id)
);

-- Evitar spam
CREATE UNIQUE INDEX idx_review_unique_30d ON review_requests(cliente_id, plataforma)
WHERE mostrado_at > now() - interval '30 days';
```

---

## Respuestas a Reviews Externos

### Google My Business API

```typescript
// Futuro: Responder a reviews desde el dashboard
const responderReviewGoogle = async (reviewId: string, respuesta: string) => {
  await fetch(
    `https://mybusiness.googleapis.com/v4/accounts/{account}/locations/{location}/reviews/${reviewId}/reply`,
    {
      method: 'PUT',
      headers: { Authorization: `Bearer ${token}` },
      body: JSON.stringify({ comment: respuesta }),
    }
  );
};
```

---

## M√©tricas de √âxito

| M√©trica | Meta |
|---------|------|
| Tasa de aceptaci√≥n | > 20% |
| Reviews externos/mes | > 10 |
| Rating promedio Google | > 4.5 |
| Rating promedio App Store | > 4.5 |

---

## Dependencias

| Servicio | Requisito |
|----------|-----------|
| Google My Business | Perfil verificado |
| App Store Connect | App publicada |
| Google Play Console | App publicada |

---

## Arquitectura de Integraci√≥n

```mermaid
flowchart TB
    subgraph OnlyCar["üöó OnlyCar App"]
        CAL[Calificaci√≥n 5‚≠ê]
        UI[UI Solicitud Review]
        TRK[Review Tracking DB]
    end
    
    subgraph Google["üîµ Google APIs"]
        GMB[Google My Business API]
        MAPS[Google Maps Reviews]
    end
    
    subgraph Apple["üçé Apple APIs"]
        SKS[SKStoreReviewController]
        AS[App Store Reviews]
    end
    
    subgraph Android["ü§ñ Android APIs"]
        IAR[InAppReview API]
        PS[Play Store Reviews]
    end
    
    CAL --> UI
    UI -->|Deep Link| GMB
    UI -->|Native API| SKS
    UI -->|Native API| IAR
    
    GMB --> MAPS
    SKS --> AS
    IAR --> PS
    
    UI -.->|Log| TRK
    
    classDef app fill:#4CAF50,color:white
    classDef google fill:#4285F4,color:white
    classDef apple fill:#A2AAAD,color:white
    classDef android fill:#3DDC84,color:white
    
    class CAL,UI,TRK app
    class GMB,MAPS google
    class SKS,AS apple
    class IAR,PS android
```

### Flujo T√©cnico

| Paso | iOS | Android | Web |
|------|-----|---------|-----|
| 1. Detectar | 5‚≠ê en calificaci√≥n | 5‚≠ê en calificaci√≥n | 5‚≠ê en calificaci√≥n |
| 2. Mostrar | UI nativa | UI nativa | Modal HTML |
| 3. Review | SKStoreReviewController | InAppReview API | Deep link Google |
| 4. Tracking | review_requests tabla | review_requests tabla | review_requests tabla |

---

## Status

> üîÆ **ROADMAP FUTURO**
> 
> Este m√≥dulo est√° planificado para implementaci√≥n posterior al lanzamiento.
> Requiere perfiles verificados en las plataformas externas.

---

## Navegaci√≥n

| ‚¨ÜÔ∏è Padre | [[Proyecto OnlyCarNLD/Datos/1.4. sistema_calificacion_feedback]] |
|----------|----------------------------------------|
| ‚¨ÖÔ∏è Hermano anterior | [[Proyecto OnlyCarNLD/Datos/1.4.5 reportes_ejecutivos]] |

---
