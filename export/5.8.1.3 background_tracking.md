---
id: 5.8.1.3
title: Background Tracking
parent: 5.8.1
breadcrumb: 0 → 5.0 → 5.8 → 5.8.1 → 5.8.1.3
type: plugin
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-01 18:10
domain:
- gps
- background
- capacitor
summary: Tracking GPS en segundo plano.
content_hash: 79b0585b9403341a
---

# 5.8.1.3 Background Tracking

Limitaciones y estrategias de tracking en segundo plano.

---

## Limitaciones por Plataforma

### iOS
- **Sin entitlement:** App suspendida ~3 min
- **Con entitlement:** Requiere Apple approval
- **Recomendación:** No usar background location

### Android
- **Android 8+:** Foreground Service requerido
- **Android 10+:** ACCESS_BACKGROUND_LOCATION manual
- **Android 12+:** Restricciones extra

---

## Estrategia OnlyCar

> [!IMPORTANT]
> **NO implementar background tracking**
> - No es una app de navegación
> - Complejidad vs beneficio bajo
> - Usar recuperación al reabrir

---

## Foreground Service (Android, si necesario)

```typescript
// Solo si es crítico
import { LocalNotifications } from '@capacitor/local-notifications';

export const startForegroundTracking = async () => {
  await LocalNotifications.schedule({
    notifications: [{
      id: 1,
      title: 'OnlyCar',
      body: 'Compartiendo ubicación...',
      ongoing: true,
      autoCancel: false
    }]
  });
};
```

---

→ Ver: [[Proyecto OnlyCarNLD/Datos/5.8.7.3 app_killed]]

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/5.8.1 capacitor_geolocation]]            |
| -------------------- | ---------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/5.8.1.2 watch_position]]              |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/5.8.1.4 accuracy_modes]]              |
