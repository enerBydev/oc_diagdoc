---
id: 3.1.4.4
title: Tablas Empresas
parent: 3.1.4
breadcrumb: 0 → 3.0 → 3.1 → 3.1.4 → 3.1.4.4
type: hoja
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-05 12:30
domain:
- sql
- empresas
- b2b
actors:
- admin
- desarrollador
summary: Tablas para gestión de empresas B2B y formatos de identificador.
content_hash: 1087f70980ef78b4
---

# 3.1.4.4 Tablas Empresas

> Empresas cliente B2B y formatos de identificador únicos.

---

## empresas

```sql
CREATE TABLE empresas (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  codigo VARCHAR(20) NOT NULL UNIQUE,
  nombre VARCHAR(200) NOT NULL,
  activo BOOLEAN DEFAULT true,
  tipo_contrato VARCHAR(20) CHECK (tipo_contrato IN ('mensual', 'anual', 'proyecto')),
  descuento_negociado DECIMAL(5,2),
  corporate_plus_activo BOOLEAN DEFAULT false,
  prioridad_agenda_horas INTEGER DEFAULT 48,
  tarjetas_referido INTEGER DEFAULT 10,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_empresas_activo ON empresas(activo) WHERE activo = true;
```

---

## formatos_identificador

```sql
CREATE TABLE formatos_identificador (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  codigo VARCHAR(50) NOT NULL UNIQUE,
  formato VARCHAR(200) NOT NULL,
  ejemplo VARCHAR(100),
  descripcion TEXT
);
```

**Formatos estándar:**
- `clienteB2C`: `B2C-NLD-{secuencial:4}`
- `clienteB2CEmpleado`: `B2C-CORP-{empresaCodigo}-{secuencial:3}`
- `clienteB2B`: `B2B-{empresaCodigo}-NLD-{secuencial:3}`

---

## Navegación

| ⬆️ Padre | [[Proyecto OnlyCarNLD/Datos/3.1.4 esquema_sql_logica_negocio]] |
|----------|--------------------------------------|
| ⬅️ Anterior | [[Proyecto OnlyCarNLD/Datos/3.1.4.3 Tablas_Descuentos]] |
| ➡️ Siguiente | [[Proyecto OnlyCarNLD/Datos/3.1.4.5 Vistas_Materializadas]] |

---
