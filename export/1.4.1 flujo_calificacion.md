---
id: 1.4.1
title: Flujo de CalificaciÃ³n
parent: '1.4'
breadcrumb: 0 â†’ 1.0 â†’ 1.4 â†’ 1.4.1
type: modulo_padre
children_count: 3
descendants_count: 3
status: activo
last_updated: 2026-01-29 15:32
file_create: 2025-12-24 10:28
domain:
- feedback
- calificaciones
actors:
- cliente_b2c
- cliente_b2b
- cliente_corporate_plus
summary: 'Proceso detallado de recopilaciÃ³n de calificaciones post-servicio.

  CARD de calificaciÃ³n, flujos por estrellas, modelo de datos.'
content_hash: cbac9c6a50c2e2b7
---

# 1.4.1 Flujo de CalificaciÃ³n

Proceso detallado de recopilaciÃ³n de calificaciones post-servicio.

---

## Trigger

| Evento | Tiempo | AcciÃ³n |
|--------|--------|--------|
| Servicio completado | +1 hora | CARD en chat |
| Sin respuesta | +24 horas | Push reminder |
| Sin respuesta | +72 horas | Email reminder |
| Sin respuesta | +7 dÃ­as | Descartar |

---

## CARD de CalificaciÃ³n

```typescript
interface CalificacionCard {
  tipo: 'solicitud_calificacion';
  data: {
    servicio_id: string;
    servicio_nombre: string;
    operador_nombre: string;
    fecha_servicio: string;
    ya_calificado: boolean;
  };
  acciones: ['calificar', 'omitir'];
}
```

### Renderizado

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â­ Â¿CÃ“MO FUE TU EXPERIENCIA?                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Lavado Express con Carlos M.                                   â”‚
â”‚  15 de Enero, 2025                                              â”‚
â”‚                                                                 â”‚
â”‚        â˜†    â˜†    â˜†    â˜†    â˜†                                    â”‚
â”‚        1    2    3    4    5                                    â”‚
â”‚                                                                 â”‚
â”‚  Tap en una estrella para calificar                             â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚Calificar despuÃ©sâ”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flujo por CalificaciÃ³n

### â­â­â­â­â­ (5 estrellas) â€” Excelente

```
1. Cliente selecciona 5 estrellas
2. Sistema muestra: "Â¡Gracias! Â¿QuÃ© te gustÃ³ mÃ¡s?"
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  [ ] Puntualidad                                            â”‚
   â”‚  [ ] Calidad del servicio                                   â”‚
   â”‚  [ ] AtenciÃ³n del operador                                  â”‚
   â”‚  [ ] RelaciÃ³n calidad-precio                                â”‚
   â”‚  [ ] Otro: [________________]                               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
3. EVALUACIÃ“N DEL OPERADOR (sutil pero explÃ­cito)
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ğŸ‘¤ Â¿CÃ“MO FUE EL DESEMPEÃ‘O DE Carlos M.?                   â”‚
   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
   â”‚                                                            â”‚
   â”‚  Puntualidad         â˜† â˜† â˜† â˜† â˜†                             â”‚
   â”‚  Profesionalismo     â˜† â˜† â˜† â˜† â˜†                             â”‚
   â”‚  Calidad del trabajo â˜† â˜† â˜† â˜† â˜†                             â”‚
   â”‚  ComunicaciÃ³n        â˜† â˜† â˜† â˜† â˜†                             â”‚
   â”‚                                                            â”‚
   â”‚  Â¿Algo que destacar de su trabajo? (opcional)              â”‚
   â”‚  [                                                     ]   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
4. Comentario general opcional (textarea)
5. Checkbox: "â˜ Concedo mi autorizacion para utilizar mis comentarios para mejorar y promocionar el servicio"
6. BotÃ³n: [Enviar]
7. Sistema registra + muestra agradecimiento
8. Si autorizÃ³ â†’ Va a cola de testimonios
9. EvaluaciÃ³n operador â†’ Alimenta sistema 1.4.3.1
```

### â­â­â­â­ (4 estrellas) â€” Muy Bueno

```
Mismo flujo que 5 estrellas, pero con pregunta adicional:
"Â¿QuÃ© hubiera hecho tu experiencia perfecta?"
```

### â­â­â­ (3 estrellas) â€” Regular

```
1. Sistema muestra: "Â¿QuÃ© podemos mejorar?"
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  [ ] TardÃ³ mÃ¡s de lo esperado                           â”‚
   â”‚  [ ] Esperaba mejor resultado                           â”‚
   â”‚  [ ] FaltÃ³ comunicaciÃ³n                                 â”‚
   â”‚  [ ] Precio muy alto                                    â”‚
   â”‚  [ ] Otro: [________________]                           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. Comentario obligatorio para calificaciones 1-3
3. NO muestra opciÃ³n de testimonio
4. Alerta silenciosa a Admin (revisar en 24h)
```

### â­â­ o â­ (1-2 estrellas) â€” Malo/Muy Malo

```
1. Sistema muestra: "Lo sentimos. Â¿QuÃ© saliÃ³ mal?"
   
   Mismas opciones pero con tono apologÃ©tico
   
2. Comentario obligatorio
3. Pregunta: "Â¿Te gustarÃ­a que te contactemos?"
   
   [ ] SÃ­, me gustarÃ­a hablar con alguien
   [ ] No es necesario
   
4. ALERTA URGENTE a Admin
5. Si quiere contacto â†’ Admin debe responder en 4 horas
```

---

## Modelo de Datos

```sql
CREATE TABLE calificaciones (
  id UUID PRIMARY KEY,
  servicio_id UUID REFERENCES servicios(id),
  cliente_id UUID REFERENCES users(id),
  operador_id UUID REFERENCES users(id),
  
  -- CalificaciÃ³n
  estrellas INT CHECK (estrellas BETWEEN 1 AND 5),
  categorias TEXT[], -- ['puntualidad', 'calidad', ...]
  comentario TEXT,
  
  -- Permisos
  autoriza_testimonio BOOLEAN DEFAULT false,
  quiere_contacto BOOLEAN DEFAULT false,
  
  -- Estados
  estado VARCHAR(20) DEFAULT 'pendiente',
  -- pendiente (esperando calif), completado, descartado
  
  -- ResoluciÃ³n (si aplica)
  resuelto_por UUID REFERENCES users(id),
  resolucion_nota TEXT,
  resuelto_at TIMESTAMPTZ,
  
  created_at TIMESTAMPTZ DEFAULT now()
);

-- Ãndices
CREATE INDEX idx_calif_servicio ON calificaciones(servicio_id);
CREATE INDEX idx_calif_operador ON calificaciones(operador_id);
CREATE INDEX idx_calif_estrellas ON calificaciones(estrellas);
```

---

## CategorÃ­as Predefinidas

| CÃ³digo | Nombre | Tipo |
|--------|--------|------|
| `PUNTUALIDAD` | Puntualidad | Positivo/Negativo |
| `CALIDAD` | Calidad del servicio | Positivo/Negativo |
| `ATENCION` | AtenciÃ³n del operador | Positivo/Negativo |
| `PRECIO` | RelaciÃ³n calidad-precio | Positivo/Negativo |
| `COMUNICACION` | ComunicaciÃ³n | Negativo |
| `TIEMPO_EXCESO` | TardÃ³ mÃ¡s de lo esperado | Negativo |
| `RESULTADO` | Resultado esperado | Negativo |

---

## Reglas

| Regla | DescripciÃ³n |
|-------|-------------|
| **CAL-001** | CARD se envÃ­a 1 hora post-servicio |
| **CAL-002** | MÃ¡ximo 3 recordatorios |
| **CAL-003** | Comentario obligatorio si â‰¤3 estrellas |
| **CAL-004** | Alerta Admin si â‰¤3 estrellas |
| **CAL-005** | Alerta URGENTE si â‰¤2 estrellas |
| **CAL-006** | Respuesta Admin en 4h si cliente quiere contacto |

---

## NavegaciÃ³n

| â¬†ï¸ Padre             | [[Proyecto OnlyCarNLD/Datos/1.4. sistema_calificacion_feedback]] |
| -------------------- | -------------------------------------- |
| â¡ï¸ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/1.4.2 testimonios_marketing]]        |

---
