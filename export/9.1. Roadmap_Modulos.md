---
id: '9.1'
title: Roadmap de Módulos
parent: '9.0'
breadcrumb: 0 → 9.0 → 9.1
type: planificacion
status: activo
last_updated: 2026-01-29 15:32
file_create: 2025-12-12 11:47
domain:
- roadmap
- estimaciones
- fases
summary: 'Roadmap completo con estimaciones T-Shirt. Módulos: Facturación,

  Contratos, Cumplimiento Legal, Infraestructura.'
content_hash: 4705a1364fbcc93f
---

# 9.1 Roadmap de Módulos y Estimaciones

> Fase única de implementación con todos los módulos integrados desde el inicio.

---

## MÓDULO 1: Facturación Automática

**Componentes implementados:**

✓ **Integración completa con Stripe**
- Payment Links con campos fiscales personalizados
- Webhooks para eventos de pago
- Pagos únicos y suscripciones recurrentes

✓ **Integración completa con Gigstack** (CFDI 4.0)
- CSD del emisor configurado
- Webhooks para notificaciones de timbrado
- Factura global automática para "Público en General"

✓ **Almacenamiento CFDI en Cloudflare R2**
- PDF/XML, encriptación server-side
- Conservación 5 años (CFF)

---

## MÓDULO 2: Contratos y Firmas

✓ **Generador de contratos dinámicos**
- Plantillas legales base
- Variables dinámicas por tipo de servicio
- Generación PDF lista para firma

✓ **Integración completa con Mifiel API**
- Delegación total (`send_invites: true`)
- Webhook para firmas completadas

✓ **Almacenamiento en Cloudflare R2**
- PDF con firmas digitales integradas
- Metadata en PostgreSQL

---

## MÓDULO 3: Cumplimiento Legal

✓ **Aviso de Privacidad LFPDPPP 2025**
- Documento actualizado con cambio de autoridad competente
- Delegación claramente especificada a Stripe, Gigstack y Mifiel
- Compromiso transparente sobre DPA de Cloudflare

✓ **Panel de derechos ARCO**
- Interfaz funcional para ejercer derechos
- Verificación de identidad mediante MFA
- Plazo de respuesta de 20 días hábiles

✓ **Contratos DPA con proveedores**
- Stripe: DPA enterprise (solicitar)
- Gigstack: Contrato de Encargado (firmar antes de producción)
- Mifiel: Operación como PSC acreditado
- Supabase: DPA disponible en plan Free (solicitar)
- Cloudflare: Plan Pro para DPA formal (migración futura)

✓ **Auditorías y logs configurados**
- Logs de auditoría con conservación de 12 meses
- Alertas automáticas para eventos críticos
- Revisiones trimestrales programadas

---

## MÓDULO 4: Infraestructura

✓ **PWA Universal Multi-tenant con CapacitorJS**
- Web App (cualquier navegador)
- iOS (App Store via Capacitor)
- Android (Google Play via Capacitor)
- Desktop Instalable (PWA)

✓ **Backend Nuxt + NuxtHub + Cloudflare**
- Nuxt v4.x como framework full-stack
- NuxtHub para deploy en Cloudflare Pages
- Cloudflare Workers para microservicios serverless
- CDN global automático
- WAF enterprise-grade

✓ **PostgreSQL/Supabase con RLS + MFA**
- Row Level Security (RLS) habilitado
- Autenticación multifactor (MFA)
- Respaldos encriptados diarios

✓ **Cloudflare R2 para documentos**
- Facturas timbradas (PDF/XML)
- Contratos firmados (PDF)
- Encriptación server-side
- URLs firmadas con expiración temporal

---

## Tabla de Roadmap

| Fase  | Módulo                            | Prioridad | Complejidad | T-Shirt Size | Dependencias |
| ----- | --------------------------------- | --------- | ----------- | ------------ | ------------ |
| **0** | Design System                     | P0        | Media       | M (3-5 días) | -            |
| **0** | Auth System (Supabase)            | P0        | Alta        | L (1-2 sem)  | -            |
| **0** | Database Schema                   | P0        | Alta        | L (1-2 sem)  | -            |
| **1** | Catálogo Web (Servicios/Paquetes) | P0        | Media       | M (3-5 días) | 0            |
| **1** | Sistema de Citas                  | P0        | Alta        | L (1-2 sem)  | 0            |
| **1** | Galería Antes/Después             | P1        | Media       | M (3-5 días) | 0            |
| **2** | Integración Stripe                | P0        | Alta        | L (1-2 sem)  | 1            |
| **2** | Integración Gigstack              | P0        | Alta        | L (1-2 sem)  | 2-Stripe     |
| **2** | Integración Mifiel                | P1        | Alta        | L (1-2 sem)  | 1            |
| **3** | Sistema Referidos                 | P1        | Media       | M (3-5 días) | 1            |
| **3** | Dashboard Admin                   | P1        | Alta        | XL (2-4 sem) | 1, 2         |
| **3** | PWA UMT Operadores                | P1        | Alta        | XL (2-4 sem) | 1, 2         |

**Leyenda:** S (1-2 días) | M (3-5 días) | L (1-2 sem) | XL (2-4 sem)

---

## Especificaciones Técnicas

| Componente | Tecnología |
|------------|------------|
| Stack | Nuxt v4 + Nitro v3 + CapacitorJS + NuxtHub |
| Pagos | Stripe (captura datos fiscales) |
| Facturación | Gigstack (PAC, valida SAT, timbra CFDI) |
| Firma digital | Mifiel (PSC acreditado, e.firma/FIEL) |
| Almacenamiento | Cloudflare R2 |
| Base de datos | Supabase/PostgreSQL |

---

## Notas Importantes

**Contratos DPA con Proveedores:**

- **Stripe**: DPA enterprise disponible (solicitar antes de producción)
- **Gigstack**: Contrato de Encargado obligatorio (firmar antes de producción)
- **Mifiel**: Opera como PSC acreditado (verificar acreditación vigente)
- **Supabase**: DPA disponible en plan Free (solicitar)
- **Cloudflare**: DPA requiere plan Pro ($20 USD/mes) - documentar limitación temporal

---
## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/9.0. planificacion]]           |
| -------------------- | -------------------------------- |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/9.2. riesgos_mitigaciones]]    |

---

**Versión:** 4.0 (Stripe + Gigstack + Mifiel - Delegación Total)
