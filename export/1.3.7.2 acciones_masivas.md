---
id: 1.3.7.2
title: Acciones Masivas
parent: 1.3.7
breadcrumb: 0 â†’ 1.0 â†’ 1.3 â†’ 1.3.7 â†’ 1.3.7.2
type: hoja
status: activo
domain: comunicacion
summary: Operaciones en lote sobre mÃºltiples conversaciones desde el Hub Chat Admin
  (archivar, etiquetar, exportar).
version: 1.0
last_updated: 2026-01-29 15:32
file_create: 2025-12-24 10:32
actors:
- admin
dependencies:
- supabase
affects:
- 1.3.7 hub_chat_admin
content_hash: c092449802a614bd
---

# 1.3.7.2 Acciones Masivas

Operaciones en lote sobre mÃºltiples conversaciones.

---

## Acciones Disponibles

| AcciÃ³n | DescripciÃ³n | Aplica a |
|--------|-------------|----------|
| **Archivar** | Mover a archivo | Cualquiera |
| **Marcar leÃ­do** | Quitar badge | Con mensajes no leÃ­dos |
| **Etiquetar** | Agregar etiqueta | Cualquiera |
| **Asignar** | Reasignar operador | Solo Operador-Cliente |
| **Exportar** | Descargar historial | Cualquiera |

---

## Interfaz

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â˜ Seleccionar todo (24)                       [ Acciones â–¼ ]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â˜‘ Carlos M. (Operador)                                         â”‚
â”‚  â˜‘ XYZ Corp (B2B)                                               â”‚
â”‚  â˜ MarÃ­a L. (B2C)                                               â”‚
â”‚  â˜‘ Juan G. (Corporate+)                                         â”‚
â”‚                                                                 â”‚
â”‚  3 seleccionados                                                â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Acciones para 3 conversaciones:                        â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  ğŸ“ Archivar seleccionados                              â”‚    â”‚
â”‚  â”‚  âœ… Marcar como leÃ­dos                                  â”‚    â”‚
â”‚  â”‚  ğŸ·ï¸ Agregar etiqueta...                                 â”‚    â”‚
â”‚  â”‚  ğŸ“¤ Exportar historial                                  â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flujo: Archivar Masivo

```typescript
const archivarMasivo = async (conversacionIds: string[]) => {
  const confirmacion = await mostrarConfirmacion({
    titulo: 'Â¿Archivar conversaciones?',
    mensaje: `Se archivarÃ¡n ${conversacionIds.length} conversaciones`,
    accion: 'Archivar'
  });
  
  if (!confirmacion) return;
  
  await db
    .update(conversations)
    .set({ estado: 'archived', archived_at: new Date() })
    .where(inArray(conversations.id, conversacionIds));
  
  toast.success(`${conversacionIds.length} conversaciones archivadas`);
};
```

---

## Flujo: Agregar Etiqueta

```
1. Seleccionar conversaciones
2. Click "Agregar etiqueta"
3. Modal con etiquetas disponibles

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ·ï¸ AGREGAR ETIQUETA                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Selecciona etiqueta para 3 conversaciones:                     â”‚
â”‚                                                                 â”‚
â”‚  â—‹ ğŸ”´ Incidencia                                                â”‚
â”‚  â—‹ ğŸ”µ Contrato                                                  â”‚
â”‚  â— ğŸŸ£ Referidos                                                 â”‚
â”‚  â—‹ ğŸŸ¢ Pago                                                      â”‚
â”‚  â—‹ âšª Soporte                                                   â”‚
â”‚                                                                 â”‚
â”‚  [ Cancelar ]  [ Aplicar ]                                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Exportar Historial

```typescript
const exportarHistorial = async (conversacionIds: string[]) => {
  const mensajes = await db
    .select()
    .from(messages)
    .where(inArray(messages.conversation_id, conversacionIds))
    .orderBy(messages.created_at);
  
  const csv = generarCSV(mensajes, [
    'fecha', 'remitente', 'tipo', 'contenido'
  ]);
  
  descargarArchivo(csv, `chat_export_${Date.now()}.csv`);
};
```

---

## Permisos

| AcciÃ³n | Admin | Operador |
|--------|-------|----------|
| Archivar | âœ… | âŒ |
| Marcar leÃ­do | âœ… | Solo sus chats |
| Etiquetar | âœ… | âŒ |
| Asignar | âœ… | âŒ |
| Exportar | âœ… | âŒ |

---

## NavegaciÃ³n

| â¬†ï¸ Padre             | [[Proyecto OnlyCarNLD/Datos/1.3.7 hub_chat_admin]]       |
| -------------------- | ------------------------------ |
| â¬…ï¸ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/1.3.7.1 filtros_dinamicos]]  |
| â¡ï¸ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/1.3.7.3 vista_unificada]]    |

---
