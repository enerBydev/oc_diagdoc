---
id: 4.6.7
title: Error Codes
parent: '4.6'
breadcrumb: 0 → 4.0 → 4.6 → 4.6.7
type: hoja
status: activo
last_updated: 2026-01-29 16:01
file_create: 2026-01-05 19:55
domain:
- api
- errores
- http
actors:
- desarrollador
summary: Catálogo de códigos de error HTTP y errores custom del sistema.
content_hash: b9d9a6a0aecfe8d1
---

# 4.6.7 Error Codes

> Catálogo completo de códigos de error del API.

---

## Códigos HTTP Estándar

| Código | Nombre | Uso en OnlyCar |
|--------|--------|-------------------|
| 200 | OK | Éxito general |
| 201 | Created | Recurso creado |
| 204 | No Content | Delete exitoso |
| 400 | Bad Request | Validación fallida |
| 401 | Unauthorized | Sin token/token inválido |
| 403 | Forbidden | Sin permisos (RLS) |
| 404 | Not Found | Recurso no existe |
| 409 | Conflict | Duplicado/conflicto |
| 422 | Unprocessable | Lógica de negocio |
| 429 | Too Many Requests | Rate limit excedido |
| 500 | Server Error | Error interno |
| 503 | Service Unavailable | Mantenimiento |

---

## Códigos Custom OnlyCar

| Código | Clave | Descripción | HTTP |
|--------|-------|-------------|------|
| OC-1001 | `CITA_NO_DISPONIBLE` | Horario ya ocupado | 422 |
| OC-1002 | `ZONA_SIN_COBERTURA` | Ciudad no activa | 422 |
| OC-1003 | `OPERADOR_OCUPADO` | Sin operadores disponibles | 422 |
| OC-2001 | `PAGO_RECHAZADO` | Stripe rechazó pago | 422 |
| OC-2002 | `SALDO_INSUFICIENTE` | Créditos insuficientes | 422 |
| OC-2003 | `FACTURA_ERROR` | Error timbrado CFDI | 500 |
| OC-3001 | `VEHICULO_INVALIDO` | Datos vehículo incorrectos | 400 |
| OC-3002 | `SERVICIO_INCOMPATIBLE` | Servicio no disponible para vehículo | 422 |
| OC-4001 | `OPERADOR_SUSPENDIDO` | Cuenta suspendida | 403 |
| OC-4002 | `EMPRESA_INACTIVA` | Contrato B2B vencido | 403 |

---

## Formato de Respuesta Error

```typescript
interface ErrorResponse {
  success: false;
  error: {
    code: string;        // "OC-1001"
    message: string;     // Mensaje user-friendly
    details?: object;    // Detalles técnicos (solo dev)
    timestamp: string;   // ISO 8601
    requestId: string;   // Para soporte
  };
}
```

### Ejemplo

```json
{
  "success": false,
  "error": {
    "code": "OC-1001",
    "message": "El horario seleccionado ya no está disponible",
    "details": {
      "requested_time": "2026-01-06T10:00:00",
      "next_available": "2026-01-06T11:00:00"
    },
    "timestamp": "2026-01-05T19:55:00Z",
    "requestId": "req_abc123"
  }
}
```

---

## Request/Response Schema

```typescript
interface RequestBody {
  // Ver OpenAPI spec completa
}

interface ResponseBody {
  success: boolean;
  data?: object;
  error?: ErrorResponse;
}
```

---

## Ejemplo curl

```bash
curl -X GET https://api.onlycar.mx/endpoint \
  -H "Authorization: Bearer TOKEN"
```


## Navegación

| ⬆️ Padre | [[Proyecto OnlyCarNLD/Datos/4.6 API_Specification]] |
|----------|---------------------------|
| ⬅️ Anterior | [[Proyecto OnlyCarNLD/Datos/4.6.6 Versionado_API]] |
| ➡️ Siguiente | [[Proyecto OnlyCarNLD/Datos/4.6.8 Rate_Limiting]] |

---
