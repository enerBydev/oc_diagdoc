# SUMMARY: 4.0 Necesidades del Sistema

## üî¨ RADIOGRAF√çA MOLECULAR DEL M√ìDULO 4.0

> **An√°lisis forense algor√≠tmico:** 2026-01-28 01:36
> **Herramientas:** `tree_viewer.py`, `dependency_mapper.py`, `project_stats.py`

### Esencia Nuclear

**Los REQUISITOS del sistema OnlyCar.** Este m√≥dulo documenta exhaustivamente los requisitos funcionales (RF) y no funcionales (RNF) del sistema, organizados por actor y capacidad. Contiene la especificaci√≥n OpenAPI (SSOT - Fuente √önica de Verdad para contratos API), las decisiones de arquitectura documentadas como ADRs, la configuraci√≥n de ambientes de despliegue (dev/staging/prod), y la matriz de trazabilidad que conecta requisitos‚Üîc√≥digo‚Üîtests.

**Principio rector:** Todo el sistema se deriva de estos requisitos. Los RF definen QU√â hace el sistema; los RNF definen C√ìMO lo hace (performance, seguridad, escalabilidad).

### M√©tricas At√≥micas

| M√©trica | Valor |
|---------|-------|
| Archivos totales | 98 |
| Hijos directos | 10 |
| Descendientes | 97 |
| Profundidad m√°xima | 3 niveles |
| % del proyecto | 12% |

### √Årbol Jer√°rquico (Nivel 1)

```
4.0 Necesidades del Sistema (98 archivos)
‚îú‚îÄ‚îÄ 4.1 Requisitos Generales ‚îÄ Visi√≥n, alcance, stakeholders, restricciones
‚îú‚îÄ‚îÄ 4.2 Requisitos Funcionales ‚îÄ RF por actor (B2C, B2B, Operador, Admin)
‚îú‚îÄ‚îÄ 4.3 Requisitos No Funcionales ‚îÄ Performance, seguridad, escalabilidad, SLAs
‚îú‚îÄ‚îÄ 4.4 Componentes del Sistema ‚îÄ Web SSR, PWA, Apps nativas, Backend
‚îú‚îÄ‚îÄ 4.5 Rutas y Navegaci√≥n ‚îÄ URLs, deep links, sitemaps
‚îú‚îÄ‚îÄ 4.6 API Specification ‚îÄ OpenAPI 3.0 (SSOT), endpoints, rate limits
‚îú‚îÄ‚îÄ 4.7 Decisiones de Arquitectura ‚îÄ ADRs (Nuxt, Supabase, Stripe, etc.)
‚îú‚îÄ‚îÄ 4.8 Ambientes y Despliegue ‚îÄ Dev, staging, production configs
‚îú‚îÄ‚îÄ 4.9 Matriz de Trazabilidad ‚îÄ Mapeo requisitos‚Üîc√≥digo‚Üîtests
‚îî‚îÄ‚îÄ 4.10 Glosario T√©cnico ‚îÄ Terminolog√≠a del proyecto
```

### Mapa de Dependencias

- **Depende de:** [[Proyecto OnlyCarNLD/Datos/1.0. identidad_y_contexto]], [[Proyecto OnlyCarNLD/Datos/7.0. arquitectura]]
- **Es usado por:** [[Proyecto OnlyCarNLD/Datos/2.0. tecnologia]], [[Proyecto OnlyCarNLD/Datos/3.0. datos_y_logica]], [[Proyecto OnlyCarNLD/Datos/5.0. integraciones]]
- **Archivos cr√≠ticos:** [[Proyecto OnlyCarNLD/Datos/4.6 API_Specification]], [[Proyecto OnlyCarNLD/Datos/4.3 Requisitos_No_Funcionales]], [[Proyecto OnlyCarNLD/Datos/4.7 Decisiones_Arquitectura]]

### Conceptos Nucleares

1. **SSOT API:** La especificaci√≥n OpenAPI en 4.6 es la fuente √∫nica de verdad para endpoints
2. **ADRs:** Decisiones de arquitectura documentadas con contexto, consecuencias y alternativas
3. **SLAs:** Uptime 99.9%, Response Time P95 <200ms, Error Rate <0.1%
4. **Trazabilidad:** Cada requisito tiene c√≥digo y tests asociados verificables
5. **Ambientes:** Configuraciones aisladas para desarrollo, pruebas y producci√≥n

---

> Resumen ejecutivo del m√≥dulo 4.0 para contexto r√°pido de IA.

---

## Estad√≠sticas (DATOS VIVOS)

| M√©trica | Valor |
|---------|-------|
| Total archivos | 98 |
| Estados | 95 activo, 3 aceptado |
| Profundidad m√°xima | 3 niveles (ej: 4.3.4.4) |
| Porcentaje del proyecto | 12% |

---

## Prop√≥sito del M√≥dulo

Define los **REQUISITOS** completos del sistema OnlyCar. Documentaci√≥n exhaustiva de requisitos funcionales y no funcionales, especificaciones API, decisiones de arquitectura, ambientes de despliegue y trazabilidad c√≥digo-tests-docs.

---

## Estructura Jer√°rquica Completa

### 4.1 Requisitos Generales (5 descendientes)

| Subm√≥dulo | Descripci√≥n |
|-----------|-------------|
| [[Proyecto OnlyCarNLD/Datos/4.1.1 Vision_Producto]] | Scope del proyecto |
| [[Proyecto OnlyCarNLD/Datos/4.1.2 Alcance_Sistema]] | Alcance y l√≠mites |
| [[Proyecto OnlyCarNLD/Datos/4.1.3 Stakeholders]] | Interesados y roles |
| [[Proyecto OnlyCarNLD/Datos/4.1.4 Restricciones]] | Limitaciones t√©cnicas |

### 4.2 Requisitos Funcionales (8 descendientes)

RF por rol de usuario.

| Subm√≥dulo | Actor |
|-----------|-------|
| [[Proyecto OnlyCarNLD/Datos/4.2.1 RF_Cliente_B2C]] | Cliente individual |
| [[Proyecto OnlyCarNLD/Datos/4.2.2 RF_Cliente_B2B]] | Empresa |
| [[Proyecto OnlyCarNLD/Datos/4.2.3 RF_Corporate_Plus]] | Empleado Corporate+ |
| [[Proyecto OnlyCarNLD/Datos/4.2.4 RF_Operador]] | T√©cnico de servicio |
| [[Proyecto OnlyCarNLD/Datos/4.2.5 RF_Admin]] | Administrador |
| [[Proyecto OnlyCarNLD/Datos/4.2.6 RF_Chat]] | Sistema de comunicaci√≥n |

### 4.3 Requisitos No Funcionales (25 descendientes) ‚≠ê

El subm√≥dulo m√°s detallado de requisitos.

| Subm√≥dulo | √Årea |
|-----------|------|
| [[Proyecto OnlyCarNLD/Datos/4.3.1 RNF_Rendimiento]] | Tiempos respuesta < 200ms |
| [[Proyecto OnlyCarNLD/Datos/4.3.2 RNF_Escalabilidad]] | Horizontal auto-scaling |
| [[Proyecto OnlyCarNLD/Datos/4.3.3 RNF_Disponibilidad]] | SLA 99.9%, redundancia |
| [[Proyecto OnlyCarNLD/Datos/4.3.4 RNF_Seguridad]] | Auth, RLS, cifrado, auditor√≠a |
| [[Proyecto OnlyCarNLD/Datos/4.3.5 RNF_Usabilidad]] | WCAG 2.1 AA |
| [[Proyecto OnlyCarNLD/Datos/4.3.6 RNF_Mantenibilidad]] | C√≥digo limpio, documentaci√≥n |
| [[Proyecto OnlyCarNLD/Datos/4.3.7 Objetivos_SLA]] | SLOs y SLIs definidos |

### 4.4 Componentes del Sistema (16 descendientes)

| Subm√≥dulo | Descripci√≥n |
|-----------|-------------|
| [[Proyecto OnlyCarNLD/Datos/4.4.1 Sitio_Web_SSR]] | Landing y marketing SSR/SSG |
| [[Proyecto OnlyCarNLD/Datos/4.4.2 PWA_Universal]] | App instalable offline-first |
| [[Proyecto OnlyCarNLD/Datos/4.4.3 Apps_Nativas]] | Apps iOS/Android (Capacitor) |
| [[Proyecto OnlyCarNLD/Datos/4.4.4 Backend_Services]] | API server y workers |

### 4.5 Rutas y Navegaci√≥n (6 descendientes)

URLs, deep links y navegaci√≥n.

### 4.6 API Specification (8 descendientes)

| Subm√≥dulo | Contenido |
|-----------|-----------|
| [[Proyecto OnlyCarNLD/Datos/4.6.1 Endpoints_Publicos]] | Sin auth requerido |
| [[Proyecto OnlyCarNLD/Datos/4.6.2 Endpoints_Cliente]] | Auth cliente B2C/B2B |
| [[Proyecto OnlyCarNLD/Datos/4.6.3 Endpoints_Operador]] | Auth operador |
| [[Proyecto OnlyCarNLD/Datos/4.6.4 Endpoints_Admin]] | Auth admin |
| [[Proyecto OnlyCarNLD/Datos/4.6.5 OpenAPI_Spec]] | Spec OpenAPI 3.0 |
| [[Proyecto OnlyCarNLD/Datos/4.6.6 Versionado_API]] | Estrategia v1, v2... |
| [[Proyecto OnlyCarNLD/Datos/4.6.7 Error_Codes]] | C√≥digos de error est√°ndar |
| [[Proyecto OnlyCarNLD/Datos/4.6.8 Rate_Limiting]] | L√≠mites por endpoint |

### 4.7 Decisiones de Arquitectura (9 descendientes)

ADRs documentados.

| ADR | Decisi√≥n |
|-----|----------|
| ADR-001 | Stack: Nuxt 4 + Capacitor 6 |
| ADR-002 | DB: Supabase PostgreSQL |
| ADR-003 | Auth: Supabase + OAuth |
| ADR-004 | Pagos: Stripe + MercadoPago |
| ADR-005 | Facturaci√≥n: Gigstack delegado |
| ADR-006 | Geo: Capacitor + Supabase Realtime |

### 4.8 Ambientes y Despliegue (6 descendientes)

| Ambiente | Prop√≥sito |
|----------|-----------|
| Development | Local con mocking |
| Staging | Pre-producci√≥n con datos test |
| Production | Live con datos reales |

### 4.9 Matriz de Trazabilidad (4 descendientes)

Mapeo requisitos ‚Üî c√≥digo ‚Üî tests.

### 4.10 Glosario T√©cnico

Terminolog√≠a del proyecto.

---

## Archivos Cr√≠ticos

| # | Archivo | Descripci√≥n |
|---|---------|-------------|
| 1 | [[Proyecto OnlyCarNLD/Datos/4.3 Requisitos_No_Funcionales]] | Calidad del sistema |
| 2 | [[Proyecto OnlyCarNLD/Datos/4.6 API_Specification]] | **(SSOT) Fuente √önica de Verdad de la API** |
| 3 | [[Proyecto OnlyCarNLD/Datos/4.7 Decisiones_Arquitectura]] | ADRs hist√≥ricos |
| 4 | [[Proyecto OnlyCarNLD/Datos/4.3.4 RNF_Seguridad]] | Requisitos de seguridad |
| 5 | [[Proyecto OnlyCarNLD/Datos/4.8 Ambientes_Despliegue]] | Configuraci√≥n infra |

---

## SLAs y M√©tricas

| M√©trica | Target |
|---------|--------|
| Uptime | 99.9% |
| Response Time P95 | < 200ms |
| Error Rate | < 0.1% |
| TTFB | < 100ms |

---

ACTUALIZACI√ìN
√öltima revisi√≥n: 2026-01-23
Basado en: 98 archivos de documentaci√≥n
Versi√≥n: 3.1 (API Centralization - SSOT Established)
Cambios v3.1: Definici√≥n de 4.6 como Fuente √önica de Verdad para contratos API.
