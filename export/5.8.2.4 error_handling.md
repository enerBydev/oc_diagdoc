---
id: 5.8.2.4
title: Error Handling
parent: 5.8.2
breadcrumb: 0 → 5.0 → 5.8 → 5.8.2 → 5.8.2.4
type: manejo_errores
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-01 18:08
domain:
- errores
- realtime
- fallback
summary: Manejo de errores en realtime.
content_hash: 2b424ba01b1f3de5
---

# 5.8.2.4 Error Handling

Manejo de errores en Supabase Realtime.

---

## Tipos de Errores

| Error | Causa | Acción |
|-------|-------|--------|
| `CLOSED` | Conexión perdida | Reconectar |
| `CHANNEL_ERROR` | Error canal | Re-suscribir |
| `INVALID_MESSAGE` | Payload malformado | Loggear, ignorar |
| `ACCESS_DENIED` | Sin permisos | Mostrar error UI |

---

## Manejo Centralizado

```typescript
const handleRealtimeError = (event: string, payload: any) => {
  switch (event) {
    case 'error':
      console.error('Realtime error:', payload);
      toast.error('Error de conexión');
      break;
      
    case 'access_denied':
      console.error('Access denied:', payload);
      navigateTo('/error/unauthorized');
      break;
      
    default:
      console.warn('Unknown event:', event, payload);
  }
};
```

---

## Retry con Circuit Breaker

```typescript
// Detener reintentos si falla demasiado
let failures = 0;
const MAX_FAILURES = 5;

const sendWithRetry = async (payload: any) => {
  if (failures >= MAX_FAILURES) {
    throw new Error('Circuit breaker open');
  }
  
  try {
    await channel.send(payload);
    failures = 0;
  } catch (e) {
    failures++;
    throw e;
  }
};
```

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/5.8.2 realtime_broadcast]]            |
| -------------------- | ---------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/5.8.2.3 reconnection_strategy]]              |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/5.8.2.5 presence_tracking]]              |
