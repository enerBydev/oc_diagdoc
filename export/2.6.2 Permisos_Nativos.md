---
id: 2.6.2
title: Permisos Nativos
parent: '2.6'
breadcrumb: 0 → 2.0 → 2.6 → 2.6.2
type: especificacion
domain:
- capacitor
- permisos
- android
- ios
status: activo
last_updated: 2026-01-29 15:31
file_create: 2026-01-04 20:35
summary: 'Configuración obligatoria de permisos en AndroidManifest.xml e Info.plist.

  Strings de justificación para App Store / Play Store.'
content_hash: 7c1b510eb8830daa
---

# 2.6.2 Permisos Nativos

> Matriz de permisos requeridos y sus justificaciones para revisión de Stores.

---

## Android (`AndroidManifest.xml`)

| Permiso | Razón |
|---------|-------|
| `ACCESS_COARSE_LOCATION` | Ubicación aproximada para mapa de cobertura. |
| `ACCESS_FINE_LOCATION` | Ubicación precisa para tracking de operador. |
| `ACCESS_BACKGROUND_LOCATION` | Tracking operador con pantalla apagada (Solo Operador App). |
| `CAMERA` | Tomar fotos de evidencia de servicio. |
| `READ_EXTERNAL_STORAGE` | Subir imágenes desde galería. |
| `INTERNET` | Conexión a API Supabase. |
| `POST_NOTIFICATIONS` | (Android 13+) Recibir alertas de chat/servicio. |

---

## iOS (`Info.plist`)

Deben incluirse las **Usage Description Strings** explicativas.

```xml
<key>NSCameraUsageDescription</key>
<string>Necesitamos acceso a la cámara para que puedas subir fotos del estado del vehículo.</string>

<key>NSLocationWhenInUseUsageDescription</key>
<string>Tu ubicación se usa para encontrar operadores cercanos y servicios disponibles.</string>

<key>NSLocationAlwaysUsageDescription</key>
<string>Requerido para que el cliente pueda ver tu posición en tiempo real durante el servicio.</string>

<key>NSPhotoLibraryUsageDescription</key>
<string>Acceso para subir comprobantes o fotos de perfil desde tu galería.</string>
```

---

## Flujo de Solicitud (Runtime)

No pedir todos los permisos al inicio ("Permission Wall").
Solicitarlos **just-in-time**:

1. Usuario entra a "Mapa" -> Pedir Location.
2. Usuario toca "Subir Foto" -> Pedir Camera.

```ts
// Ejemplo en componente
async function checkCamera() {
  const status = await Camera.checkPermissions();
  if (status.camera !== 'granted') {
    const newStatus = await Camera.requestPermissions();
    if (newStatus.camera !== 'granted') return false;
  }
  return true;
}
```

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.6. Arquitectura_Mobile]]     |
| -------------------- | -------------------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/2.6.1 Plugins_Nativos]]        |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.6.3 Build_Release]]          |

---
