---
id: '2.10'
title: Estrategia Offline (Sync)
parent: '2.0'
breadcrumb: 0 → 2.0 → 2.10
type: modulo_padre
children_count: 3
descendants_count: 3
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-04 21:38
domain:
- offline
- sync
- pwa
- queue
- optimistic-ui
summary: 'Estrategia de desconexión "Offline-First".

  Colas de sincronización, resolución de conflictos y UX reactiva.'
content_hash: 7066e73c5e6f9265
---

# 2.10 Estrategia Offline (Sync)

> Robustez operativa para usuarios en movimiento con conectividad intermitente.

---

## Visión General

Para una app tipo "Uber/DiDi", la pérdida de señal no puede significar pérdida de datos. Implementamos un patrón **Optimistic UI** con una cola de sincronización persistente en el dispositivo.

---

## Estructura de Hijos

| ID | Nombre | Descripción | Estado |
|----|--------|-------------|--------|
| [[Proyecto OnlyCarNLD/Datos/2.10.1 Queue_Manager\|2.10.1]] | Queue Manager | Dexie.js Cola de peticiones | ✅ |
| [[Proyecto OnlyCarNLD/Datos/2.10.2 Conflict_Resolution\|2.10.2]] | Conflict Resolution | Estrategias Last-Write-Wins | ✅ |
| [[Proyecto OnlyCarNLD/Datos/2.10.3 Estado_Red\|2.10.3]] | Estado Red | UX reactiva a conexión | ✅ |

---

## Flujo de Sincronización

1. Usuario realiza acción (ej. "Finalizar Viaje").
2. **UI Optimista:** La app muestra "Finalizado" inmediatamente.
3. **Queue:** La petición HTTP se serializa y guarda en IndexedDB.
4. **Service Background:** Intenta enviar la petición.
   - Si éxito: Elimina de la cola.
   - Si falla (Offline): Reintenta exponencialmente cuando recupera red.

---

## Navegación

| ⬆️ Padre             | [[Proyecto OnlyCarNLD/Datos/2.0. tecnologia]]              |
| -------------------- | -------------------------------- |
| ⬅️ Hermano anterior  | [[Proyecto OnlyCarNLD/Datos/2.9. Arquitectura_Backend]]    |
| ➡️ Hermano siguiente | [[Proyecto OnlyCarNLD/Datos/2.11. Observabilidad]]         |

---
