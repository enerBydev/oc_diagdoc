---
id: 7.4.1
title: Repository Pattern
parent: '7.4'
breadcrumb: 0 → 7.0 → 7.4 → 7.4.1
type: hoja
status: activo
last_updated: 2026-01-29 15:32
file_create: 2026-01-21 12:36
domain:
- repository
- persistence
- abstraction
summary: Patrón Repository para abstracción de persistencia.
content_hash: ca3e50ac439f9ab4
---

# 7.4.1 Repository Pattern

> Abstrae el acceso a datos permitiendo cambiar la fuente sin modificar lógica.

---

## Interfaz Base

```typescript
interface IRepository<T, ID> {
  findById(id: ID): Promise<T | null>;
  findAll(): Promise<T[]>;
  save(entity: T): Promise<void>;
  delete(id: ID): Promise<void>;
}
```

---

## Repositories OnlyCar

| Repository | Entity | Implementations |
|------------|--------|-----------------|
| `ICitaRepository` | Cita | Supabase, Dexie |
| `IOperadorRepository` | Operador | Supabase |
| `IClienteRepository` | Cliente | Supabase |
| `IServicioRepository` | Servicio | Supabase (readonly) |

---

## Beneficios

- **Testabilidad**: Mock de repositories para tests
- **Flexibilidad**: Cambiar DB sin tocar lógica
- **Offline**: Implementación local para sync

---

## Navegación

| ⬆️ Padre | [[Proyecto OnlyCarNLD/Datos/7.4 Patterns_Repository_Strategy]] |
|----------|--------------------------------------|
| ➡️ Siguiente | [[Proyecto OnlyCarNLD/Datos/7.4.2 Strategy_Pattern]] |

---
